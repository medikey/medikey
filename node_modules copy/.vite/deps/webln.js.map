{
  "version": 3,
  "sources": ["../../.pnpm/webln@0.3.2/node_modules/webln/lib/errors.js", "../../.pnpm/webln@0.3.2/node_modules/webln/lib/client.js", "../../.pnpm/webln@0.3.2/node_modules/webln/lib/provider.js", "../../.pnpm/webln@0.3.2/node_modules/webln/lib/index.js"],
  "sourcesContent": ["\"use strict\";\n/* tslint:disable:max-classes-per-file */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalError = exports.InvalidDataError = exports.RoutingError = exports.UnsupportedMethodError = exports.ConnectionError = exports.RejectionError = exports.MissingProviderError = void 0;\n/**\n * Workaround for custom errors when compiling typescript targeting 'ES5'.\n * see: https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work\n * @param {CustomError} error\n * @param newTarget the value of `new.target`\n * @param {Function} errorType\n */\nfunction fixError(error, newTarget, errorType) {\n    Object.setPrototypeOf(error, errorType.prototype);\n    // when an error constructor is invoked with the `new` operator\n    if (newTarget === errorType) {\n        error.name = newTarget.name;\n        // exclude the constructor call of the error type from the stack trace.\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(error, errorType);\n        }\n        else {\n            var stack = new Error(error.message).stack;\n            if (stack) {\n                error.stack = fixStack(stack, \"new \".concat(newTarget.name));\n            }\n        }\n    }\n}\nfunction fixStack(stack, functionName) {\n    if (!stack)\n        return stack;\n    if (!functionName)\n        return stack;\n    // exclude lines starts with:  \"  at functionName \"\n    var exclusion = new RegExp(\"\\\\s+at\\\\s\".concat(functionName, \"\\\\s\"));\n    var lines = stack.split(\"\\n\");\n    var resultLines = lines.filter(function (line) { return !line.match(exclusion); });\n    return resultLines.join(\"\\n\");\n}\n/// CUSTOM ERRORS ///\n// When no WebLN provider is available\nvar MissingProviderError = /** @class */ (function (_super) {\n    __extends(MissingProviderError, _super);\n    function MissingProviderError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        fixError(_this, _newTarget, MissingProviderError);\n        return _this;\n    }\n    return MissingProviderError;\n}(Error));\nexports.MissingProviderError = MissingProviderError;\n// When the user rejects a request\nvar RejectionError = /** @class */ (function (_super) {\n    __extends(RejectionError, _super);\n    function RejectionError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        fixError(_this, _newTarget, RejectionError);\n        return _this;\n    }\n    return RejectionError;\n}(Error));\nexports.RejectionError = RejectionError;\n// When the node can't be connected to (i.e. the app did nothing wrong)\nvar ConnectionError = /** @class */ (function (_super) {\n    __extends(ConnectionError, _super);\n    function ConnectionError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        fixError(_this, _newTarget, ConnectionError);\n        return _this;\n    }\n    return ConnectionError;\n}(Error));\nexports.ConnectionError = ConnectionError;\n// The WebLN provider doesn't support this method\nvar UnsupportedMethodError = /** @class */ (function (_super) {\n    __extends(UnsupportedMethodError, _super);\n    function UnsupportedMethodError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        fixError(_this, _newTarget, UnsupportedMethodError);\n        return _this;\n    }\n    return UnsupportedMethodError;\n}(Error));\nexports.UnsupportedMethodError = UnsupportedMethodError;\n// The desired node couldn't be routed to\nvar RoutingError = /** @class */ (function (_super) {\n    __extends(RoutingError, _super);\n    function RoutingError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        fixError(_this, _newTarget, RoutingError);\n        return _this;\n    }\n    return RoutingError;\n}(Error));\nexports.RoutingError = RoutingError;\n// An argument passed was somehow invalid (e.g. malformed invoice)\nvar InvalidDataError = /** @class */ (function (_super) {\n    __extends(InvalidDataError, _super);\n    function InvalidDataError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        fixError(_this, _newTarget, InvalidDataError);\n        return _this;\n    }\n    return InvalidDataError;\n}(Error));\nexports.InvalidDataError = InvalidDataError;\n// Something broke in the WebLN provider internally, nothing to do with the app\nvar InternalError = /** @class */ (function (_super) {\n    __extends(InternalError, _super);\n    function InternalError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        fixError(_this, _newTarget, InternalError);\n        return _this;\n    }\n    return InternalError;\n}(Error));\nexports.InternalError = InternalError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.requestProvider = void 0;\nvar errors_1 = require(\"./errors\");\nfunction requestProvider(_) {\n    if (_ === void 0) { _ = {}; }\n    return new Promise(function (resolve, reject) {\n        if (typeof window === 'undefined') {\n            return reject(new Error('Must be called in a browser context'));\n        }\n        var webln = window.webln;\n        if (!webln) {\n            return reject(new errors_1.MissingProviderError('Your browser has no WebLN provider'));\n        }\n        webln.enable()\n            .then(function () { return resolve(webln); })\n            .catch(function (err) { return reject(err); });\n    });\n}\nexports.requestProvider = requestProvider;\n", "\"use strict\";\n/**\n * Everything needed to implement your own provider.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./client\"), exports);\n__exportStar(require(\"./provider\"), exports);\n__exportStar(require(\"./errors\"), exports);\n"],
  "mappings": "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",
  "names": ["d", "b", "MissingProviderError", "RejectionError", "ConnectionError", "UnsupportedMethodError", "RoutingError", "InvalidDataError", "InternalError", "exports"]
}
