import { Event, UnsignedEvent } from "nostr-tools";
import { GetBalanceResponse, KeysendArgs, RequestInvoiceArgs, SendPaymentResponse, SignMessageResponse, WebLNProvider, WebLNRequestMethod, LookupInvoiceArgs, LookupInvoiceResponse, WebLNMethod, MakeInvoiceResponse } from "@webbtc/webln-types";
import { GetInfoResponse } from "@webbtc/webln-types";
import { NWCClient, NWCOptions, NewNWCClientOptions } from "../nwc/NWCClient";
import { Nip47Transaction, NWCAuthorizationUrlOptions } from "../nwc/types";
export type Transaction = Nip47Transaction;
export type ListTransactionsResponse = {
    transactions: Transaction[];
};
export type ListTransactionsArgs = {
    from?: number;
    until?: number;
    limit?: number;
    offset?: number;
    unpaid?: boolean;
    type?: "incoming" | "outgoing";
};
export type SendMultiPaymentResponse = {
    payments: ({
        paymentRequest: string;
    } & SendPaymentResponse)[];
    errors: {
        paymentRequest: string;
        message: string;
    }[];
};
export type MultiKeysendResponse = {
    keysends: ({
        keysend: KeysendArgs;
    } & SendPaymentResponse)[];
    errors: {
        keysend: KeysendArgs;
        message: string;
    }[];
};
type NostrWebLNOptions = NWCOptions;
export type Nip07Provider = {
    getPublicKey(): Promise<string>;
    signEvent(event: UnsignedEvent): Promise<Event>;
};
export type NewNostrWeblnProviderOptions = NewNWCClientOptions & {
    client?: NWCClient;
};
export declare class NostrWebLNProvider implements WebLNProvider, Nip07Provider {
    private _enabled;
    readonly client: NWCClient;
    readonly subscribers: Record<string, (payload: unknown) => void>;
    get options(): NostrWebLNOptions;
    static fromAuthorizationUrl(authorizationBasePath: string, options?: NWCAuthorizationUrlOptions, secret?: string): Promise<NostrWebLNProvider>;
    constructor(options?: NewNostrWeblnProviderOptions);
    on(name: string, callback: () => void): void;
    notify(name: WebLNMethod, payload?: unknown): void;
    getPublicKey(): Promise<string>;
    signEvent(event: UnsignedEvent): Promise<Event>;
    enable(): Promise<void>;
    close(): void;
    getInfo(): Promise<GetInfoResponse>;
    getBalance(): Promise<GetBalanceResponse>;
    sendPayment(invoice: string): Promise<SendPaymentResponse>;
    sendPaymentAsync(invoice: string): Promise<Record<string, never>>;
    keysend(args: KeysendArgs): Promise<SendPaymentResponse>;
    signMessage(message: string): Promise<SignMessageResponse>;
    makeInvoice(args: string | number | RequestInvoiceArgs): Promise<MakeInvoiceResponse>;
    lookupInvoice(args: LookupInvoiceArgs): Promise<LookupInvoiceResponse>;
    listTransactions(args: ListTransactionsArgs): Promise<ListTransactionsResponse>;
    sendMultiPayment(paymentRequests: string[]): Promise<SendMultiPaymentResponse>;
    multiKeysend(keysends: KeysendArgs[]): Promise<MultiKeysendResponse>;
    lnurl(lnurl: string): Promise<{
        status: "OK";
    } | {
        status: "ERROR";
        reason: string;
    }>;
    request(method: WebLNRequestMethod, args?: unknown): Promise<unknown>;
    verifyMessage(signature: string, message: string): Promise<void>;
    private checkEnabled;
}
export declare const NWC: typeof NostrWebLNProvider;
export {};
