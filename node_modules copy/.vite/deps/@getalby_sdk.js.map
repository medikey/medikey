{
  "version": 3,
  "sources": ["../../.pnpm/nostr-tools@2.15.0_typescript@5.9.2/node_modules/nostr-tools/lib/esm/index.js", "../../.pnpm/@getalby+lightning-tools@5.2.1/node_modules/@getalby/lightning-tools/dist/index.modern.js", "../../.pnpm/@getalby+sdk@5.1.2_typescript@5.9.2/node_modules/@getalby/sdk/dist/index.modern.js"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// pure.ts\nimport { schnorr } from \"@noble/curves/secp256k1\";\nimport { bytesToHex as bytesToHex2 } from \"@noble/hashes/utils\";\n\n// core.ts\nvar verifiedSymbol = Symbol(\"verified\");\nvar isRecord = (obj) => obj instanceof Object;\nfunction validateEvent(event) {\n  if (!isRecord(event))\n    return false;\n  if (typeof event.kind !== \"number\")\n    return false;\n  if (typeof event.content !== \"string\")\n    return false;\n  if (typeof event.created_at !== \"number\")\n    return false;\n  if (typeof event.pubkey !== \"string\")\n    return false;\n  if (!event.pubkey.match(/^[a-f0-9]{64}$/))\n    return false;\n  if (!Array.isArray(event.tags))\n    return false;\n  for (let i2 = 0; i2 < event.tags.length; i2++) {\n    let tag = event.tags[i2];\n    if (!Array.isArray(tag))\n      return false;\n    for (let j = 0; j < tag.length; j++) {\n      if (typeof tag[j] !== \"string\")\n        return false;\n    }\n  }\n  return true;\n}\nfunction sortEvents(events) {\n  return events.sort((a, b) => {\n    if (a.created_at !== b.created_at) {\n      return b.created_at - a.created_at;\n    }\n    return a.id.localeCompare(b.id);\n  });\n}\n\n// pure.ts\nimport { sha256 } from \"@noble/hashes/sha256\";\n\n// utils.ts\nvar utils_exports = {};\n__export(utils_exports, {\n  Queue: () => Queue,\n  QueueNode: () => QueueNode,\n  binarySearch: () => binarySearch,\n  bytesToHex: () => bytesToHex,\n  hexToBytes: () => hexToBytes,\n  insertEventIntoAscendingList: () => insertEventIntoAscendingList,\n  insertEventIntoDescendingList: () => insertEventIntoDescendingList,\n  normalizeURL: () => normalizeURL,\n  utf8Decoder: () => utf8Decoder,\n  utf8Encoder: () => utf8Encoder\n});\nimport { bytesToHex, hexToBytes } from \"@noble/hashes/utils\";\nvar utf8Decoder = new TextDecoder(\"utf-8\");\nvar utf8Encoder = new TextEncoder();\nfunction normalizeURL(url) {\n  try {\n    if (url.indexOf(\"://\") === -1)\n      url = \"wss://\" + url;\n    let p = new URL(url);\n    p.pathname = p.pathname.replace(/\\/+/g, \"/\");\n    if (p.pathname.endsWith(\"/\"))\n      p.pathname = p.pathname.slice(0, -1);\n    if (p.port === \"80\" && p.protocol === \"ws:\" || p.port === \"443\" && p.protocol === \"wss:\")\n      p.port = \"\";\n    p.searchParams.sort();\n    p.hash = \"\";\n    return p.toString();\n  } catch (e) {\n    throw new Error(`Invalid URL: ${url}`);\n  }\n}\nfunction insertEventIntoDescendingList(sortedArray, event) {\n  const [idx, found] = binarySearch(sortedArray, (b) => {\n    if (event.id === b.id)\n      return 0;\n    if (event.created_at === b.created_at)\n      return -1;\n    return b.created_at - event.created_at;\n  });\n  if (!found) {\n    sortedArray.splice(idx, 0, event);\n  }\n  return sortedArray;\n}\nfunction insertEventIntoAscendingList(sortedArray, event) {\n  const [idx, found] = binarySearch(sortedArray, (b) => {\n    if (event.id === b.id)\n      return 0;\n    if (event.created_at === b.created_at)\n      return -1;\n    return event.created_at - b.created_at;\n  });\n  if (!found) {\n    sortedArray.splice(idx, 0, event);\n  }\n  return sortedArray;\n}\nfunction binarySearch(arr, compare) {\n  let start = 0;\n  let end = arr.length - 1;\n  while (start <= end) {\n    const mid = Math.floor((start + end) / 2);\n    const cmp = compare(arr[mid]);\n    if (cmp === 0) {\n      return [mid, true];\n    }\n    if (cmp < 0) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n  return [start, false];\n}\nvar QueueNode = class {\n  value;\n  next = null;\n  prev = null;\n  constructor(message) {\n    this.value = message;\n  }\n};\nvar Queue = class {\n  first;\n  last;\n  constructor() {\n    this.first = null;\n    this.last = null;\n  }\n  enqueue(value) {\n    const newNode = new QueueNode(value);\n    if (!this.last) {\n      this.first = newNode;\n      this.last = newNode;\n    } else if (this.last === this.first) {\n      this.last = newNode;\n      this.last.prev = this.first;\n      this.first.next = newNode;\n    } else {\n      newNode.prev = this.last;\n      this.last.next = newNode;\n      this.last = newNode;\n    }\n    return true;\n  }\n  dequeue() {\n    if (!this.first)\n      return null;\n    if (this.first === this.last) {\n      const target2 = this.first;\n      this.first = null;\n      this.last = null;\n      return target2.value;\n    }\n    const target = this.first;\n    this.first = target.next;\n    if (this.first) {\n      this.first.prev = null;\n    }\n    return target.value;\n  }\n};\n\n// pure.ts\nvar JS = class {\n  generateSecretKey() {\n    return schnorr.utils.randomPrivateKey();\n  }\n  getPublicKey(secretKey) {\n    return bytesToHex2(schnorr.getPublicKey(secretKey));\n  }\n  finalizeEvent(t, secretKey) {\n    const event = t;\n    event.pubkey = bytesToHex2(schnorr.getPublicKey(secretKey));\n    event.id = getEventHash(event);\n    event.sig = bytesToHex2(schnorr.sign(getEventHash(event), secretKey));\n    event[verifiedSymbol] = true;\n    return event;\n  }\n  verifyEvent(event) {\n    if (typeof event[verifiedSymbol] === \"boolean\")\n      return event[verifiedSymbol];\n    const hash = getEventHash(event);\n    if (hash !== event.id) {\n      event[verifiedSymbol] = false;\n      return false;\n    }\n    try {\n      const valid = schnorr.verify(event.sig, hash, event.pubkey);\n      event[verifiedSymbol] = valid;\n      return valid;\n    } catch (err) {\n      event[verifiedSymbol] = false;\n      return false;\n    }\n  }\n};\nfunction serializeEvent(evt) {\n  if (!validateEvent(evt))\n    throw new Error(\"can't serialize event with wrong or missing properties\");\n  return JSON.stringify([0, evt.pubkey, evt.created_at, evt.kind, evt.tags, evt.content]);\n}\nfunction getEventHash(event) {\n  let eventHash = sha256(utf8Encoder.encode(serializeEvent(event)));\n  return bytesToHex2(eventHash);\n}\nvar i = new JS();\nvar generateSecretKey = i.generateSecretKey;\nvar getPublicKey = i.getPublicKey;\nvar finalizeEvent = i.finalizeEvent;\nvar verifyEvent = i.verifyEvent;\n\n// kinds.ts\nvar kinds_exports = {};\n__export(kinds_exports, {\n  Application: () => Application,\n  BadgeAward: () => BadgeAward,\n  BadgeDefinition: () => BadgeDefinition,\n  BlockedRelaysList: () => BlockedRelaysList,\n  BookmarkList: () => BookmarkList,\n  Bookmarksets: () => Bookmarksets,\n  Calendar: () => Calendar,\n  CalendarEventRSVP: () => CalendarEventRSVP,\n  ChannelCreation: () => ChannelCreation,\n  ChannelHideMessage: () => ChannelHideMessage,\n  ChannelMessage: () => ChannelMessage,\n  ChannelMetadata: () => ChannelMetadata,\n  ChannelMuteUser: () => ChannelMuteUser,\n  ClassifiedListing: () => ClassifiedListing,\n  ClientAuth: () => ClientAuth,\n  CommunitiesList: () => CommunitiesList,\n  CommunityDefinition: () => CommunityDefinition,\n  CommunityPostApproval: () => CommunityPostApproval,\n  Contacts: () => Contacts,\n  CreateOrUpdateProduct: () => CreateOrUpdateProduct,\n  CreateOrUpdateStall: () => CreateOrUpdateStall,\n  Curationsets: () => Curationsets,\n  Date: () => Date2,\n  DirectMessageRelaysList: () => DirectMessageRelaysList,\n  DraftClassifiedListing: () => DraftClassifiedListing,\n  DraftLong: () => DraftLong,\n  Emojisets: () => Emojisets,\n  EncryptedDirectMessage: () => EncryptedDirectMessage,\n  EventDeletion: () => EventDeletion,\n  FileMetadata: () => FileMetadata,\n  FileServerPreference: () => FileServerPreference,\n  Followsets: () => Followsets,\n  GenericRepost: () => GenericRepost,\n  Genericlists: () => Genericlists,\n  GiftWrap: () => GiftWrap,\n  HTTPAuth: () => HTTPAuth,\n  Handlerinformation: () => Handlerinformation,\n  Handlerrecommendation: () => Handlerrecommendation,\n  Highlights: () => Highlights,\n  InterestsList: () => InterestsList,\n  Interestsets: () => Interestsets,\n  JobFeedback: () => JobFeedback,\n  JobRequest: () => JobRequest,\n  JobResult: () => JobResult,\n  Label: () => Label,\n  LightningPubRPC: () => LightningPubRPC,\n  LiveChatMessage: () => LiveChatMessage,\n  LiveEvent: () => LiveEvent,\n  LongFormArticle: () => LongFormArticle,\n  Metadata: () => Metadata,\n  Mutelist: () => Mutelist,\n  NWCWalletInfo: () => NWCWalletInfo,\n  NWCWalletRequest: () => NWCWalletRequest,\n  NWCWalletResponse: () => NWCWalletResponse,\n  NostrConnect: () => NostrConnect,\n  OpenTimestamps: () => OpenTimestamps,\n  Pinlist: () => Pinlist,\n  PrivateDirectMessage: () => PrivateDirectMessage,\n  ProblemTracker: () => ProblemTracker,\n  ProfileBadges: () => ProfileBadges,\n  PublicChatsList: () => PublicChatsList,\n  Reaction: () => Reaction,\n  RecommendRelay: () => RecommendRelay,\n  RelayList: () => RelayList,\n  Relaysets: () => Relaysets,\n  Report: () => Report,\n  Reporting: () => Reporting,\n  Repost: () => Repost,\n  Seal: () => Seal,\n  SearchRelaysList: () => SearchRelaysList,\n  ShortTextNote: () => ShortTextNote,\n  Time: () => Time,\n  UserEmojiList: () => UserEmojiList,\n  UserStatuses: () => UserStatuses,\n  Zap: () => Zap,\n  ZapGoal: () => ZapGoal,\n  ZapRequest: () => ZapRequest,\n  classifyKind: () => classifyKind,\n  isAddressableKind: () => isAddressableKind,\n  isEphemeralKind: () => isEphemeralKind,\n  isKind: () => isKind,\n  isRegularKind: () => isRegularKind,\n  isReplaceableKind: () => isReplaceableKind\n});\nfunction isRegularKind(kind) {\n  return 1e3 <= kind && kind < 1e4 || [1, 2, 4, 5, 6, 7, 8, 16, 40, 41, 42, 43, 44].includes(kind);\n}\nfunction isReplaceableKind(kind) {\n  return [0, 3].includes(kind) || 1e4 <= kind && kind < 2e4;\n}\nfunction isEphemeralKind(kind) {\n  return 2e4 <= kind && kind < 3e4;\n}\nfunction isAddressableKind(kind) {\n  return 3e4 <= kind && kind < 4e4;\n}\nfunction classifyKind(kind) {\n  if (isRegularKind(kind))\n    return \"regular\";\n  if (isReplaceableKind(kind))\n    return \"replaceable\";\n  if (isEphemeralKind(kind))\n    return \"ephemeral\";\n  if (isAddressableKind(kind))\n    return \"parameterized\";\n  return \"unknown\";\n}\nfunction isKind(event, kind) {\n  const kindAsArray = kind instanceof Array ? kind : [kind];\n  return validateEvent(event) && kindAsArray.includes(event.kind) || false;\n}\nvar Metadata = 0;\nvar ShortTextNote = 1;\nvar RecommendRelay = 2;\nvar Contacts = 3;\nvar EncryptedDirectMessage = 4;\nvar EventDeletion = 5;\nvar Repost = 6;\nvar Reaction = 7;\nvar BadgeAward = 8;\nvar Seal = 13;\nvar PrivateDirectMessage = 14;\nvar GenericRepost = 16;\nvar ChannelCreation = 40;\nvar ChannelMetadata = 41;\nvar ChannelMessage = 42;\nvar ChannelHideMessage = 43;\nvar ChannelMuteUser = 44;\nvar OpenTimestamps = 1040;\nvar GiftWrap = 1059;\nvar FileMetadata = 1063;\nvar LiveChatMessage = 1311;\nvar ProblemTracker = 1971;\nvar Report = 1984;\nvar Reporting = 1984;\nvar Label = 1985;\nvar CommunityPostApproval = 4550;\nvar JobRequest = 5999;\nvar JobResult = 6999;\nvar JobFeedback = 7e3;\nvar ZapGoal = 9041;\nvar ZapRequest = 9734;\nvar Zap = 9735;\nvar Highlights = 9802;\nvar Mutelist = 1e4;\nvar Pinlist = 10001;\nvar RelayList = 10002;\nvar BookmarkList = 10003;\nvar CommunitiesList = 10004;\nvar PublicChatsList = 10005;\nvar BlockedRelaysList = 10006;\nvar SearchRelaysList = 10007;\nvar InterestsList = 10015;\nvar UserEmojiList = 10030;\nvar DirectMessageRelaysList = 10050;\nvar FileServerPreference = 10096;\nvar NWCWalletInfo = 13194;\nvar LightningPubRPC = 21e3;\nvar ClientAuth = 22242;\nvar NWCWalletRequest = 23194;\nvar NWCWalletResponse = 23195;\nvar NostrConnect = 24133;\nvar HTTPAuth = 27235;\nvar Followsets = 3e4;\nvar Genericlists = 30001;\nvar Relaysets = 30002;\nvar Bookmarksets = 30003;\nvar Curationsets = 30004;\nvar ProfileBadges = 30008;\nvar BadgeDefinition = 30009;\nvar Interestsets = 30015;\nvar CreateOrUpdateStall = 30017;\nvar CreateOrUpdateProduct = 30018;\nvar LongFormArticle = 30023;\nvar DraftLong = 30024;\nvar Emojisets = 30030;\nvar Application = 30078;\nvar LiveEvent = 30311;\nvar UserStatuses = 30315;\nvar ClassifiedListing = 30402;\nvar DraftClassifiedListing = 30403;\nvar Date2 = 31922;\nvar Time = 31923;\nvar Calendar = 31924;\nvar CalendarEventRSVP = 31925;\nvar Handlerrecommendation = 31989;\nvar Handlerinformation = 31990;\nvar CommunityDefinition = 34550;\n\n// filter.ts\nfunction matchFilter(filter, event) {\n  if (filter.ids && filter.ids.indexOf(event.id) === -1) {\n    return false;\n  }\n  if (filter.kinds && filter.kinds.indexOf(event.kind) === -1) {\n    return false;\n  }\n  if (filter.authors && filter.authors.indexOf(event.pubkey) === -1) {\n    return false;\n  }\n  for (let f in filter) {\n    if (f[0] === \"#\") {\n      let tagName = f.slice(1);\n      let values = filter[`#${tagName}`];\n      if (values && !event.tags.find(([t, v]) => t === f.slice(1) && values.indexOf(v) !== -1))\n        return false;\n    }\n  }\n  if (filter.since && event.created_at < filter.since)\n    return false;\n  if (filter.until && event.created_at > filter.until)\n    return false;\n  return true;\n}\nfunction matchFilters(filters, event) {\n  for (let i2 = 0; i2 < filters.length; i2++) {\n    if (matchFilter(filters[i2], event)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction mergeFilters(...filters) {\n  let result = {};\n  for (let i2 = 0; i2 < filters.length; i2++) {\n    let filter = filters[i2];\n    Object.entries(filter).forEach(([property, values]) => {\n      if (property === \"kinds\" || property === \"ids\" || property === \"authors\" || property[0] === \"#\") {\n        result[property] = result[property] || [];\n        for (let v = 0; v < values.length; v++) {\n          let value = values[v];\n          if (!result[property].includes(value))\n            result[property].push(value);\n        }\n      }\n    });\n    if (filter.limit && (!result.limit || filter.limit > result.limit))\n      result.limit = filter.limit;\n    if (filter.until && (!result.until || filter.until > result.until))\n      result.until = filter.until;\n    if (filter.since && (!result.since || filter.since < result.since))\n      result.since = filter.since;\n  }\n  return result;\n}\nfunction getFilterLimit(filter) {\n  if (filter.ids && !filter.ids.length)\n    return 0;\n  if (filter.kinds && !filter.kinds.length)\n    return 0;\n  if (filter.authors && !filter.authors.length)\n    return 0;\n  for (const [key, value] of Object.entries(filter)) {\n    if (key[0] === \"#\" && Array.isArray(value) && !value.length)\n      return 0;\n  }\n  return Math.min(\n    Math.max(0, filter.limit ?? Infinity),\n    filter.ids?.length ?? Infinity,\n    filter.authors?.length && filter.kinds?.every((kind) => isReplaceableKind(kind)) ? filter.authors.length * filter.kinds.length : Infinity,\n    filter.authors?.length && filter.kinds?.every((kind) => isAddressableKind(kind)) && filter[\"#d\"]?.length ? filter.authors.length * filter.kinds.length * filter[\"#d\"].length : Infinity\n  );\n}\n\n// fakejson.ts\nvar fakejson_exports = {};\n__export(fakejson_exports, {\n  getHex64: () => getHex64,\n  getInt: () => getInt,\n  getSubscriptionId: () => getSubscriptionId,\n  matchEventId: () => matchEventId,\n  matchEventKind: () => matchEventKind,\n  matchEventPubkey: () => matchEventPubkey\n});\nfunction getHex64(json, field) {\n  let len = field.length + 3;\n  let idx = json.indexOf(`\"${field}\":`) + len;\n  let s = json.slice(idx).indexOf(`\"`) + idx + 1;\n  return json.slice(s, s + 64);\n}\nfunction getInt(json, field) {\n  let len = field.length;\n  let idx = json.indexOf(`\"${field}\":`) + len + 3;\n  let sliced = json.slice(idx);\n  let end = Math.min(sliced.indexOf(\",\"), sliced.indexOf(\"}\"));\n  return parseInt(sliced.slice(0, end), 10);\n}\nfunction getSubscriptionId(json) {\n  let idx = json.slice(0, 22).indexOf(`\"EVENT\"`);\n  if (idx === -1)\n    return null;\n  let pstart = json.slice(idx + 7 + 1).indexOf(`\"`);\n  if (pstart === -1)\n    return null;\n  let start = idx + 7 + 1 + pstart;\n  let pend = json.slice(start + 1, 80).indexOf(`\"`);\n  if (pend === -1)\n    return null;\n  let end = start + 1 + pend;\n  return json.slice(start + 1, end);\n}\nfunction matchEventId(json, id) {\n  return id === getHex64(json, \"id\");\n}\nfunction matchEventPubkey(json, pubkey) {\n  return pubkey === getHex64(json, \"pubkey\");\n}\nfunction matchEventKind(json, kind) {\n  return kind === getInt(json, \"kind\");\n}\n\n// nip42.ts\nvar nip42_exports = {};\n__export(nip42_exports, {\n  makeAuthEvent: () => makeAuthEvent\n});\nfunction makeAuthEvent(relayURL, challenge) {\n  return {\n    kind: ClientAuth,\n    created_at: Math.floor(Date.now() / 1e3),\n    tags: [\n      [\"relay\", relayURL],\n      [\"challenge\", challenge]\n    ],\n    content: \"\"\n  };\n}\n\n// helpers.ts\nasync function yieldThread() {\n  return new Promise((resolve) => {\n    const ch = new MessageChannel();\n    const handler = () => {\n      ch.port1.removeEventListener(\"message\", handler);\n      resolve();\n    };\n    ch.port1.addEventListener(\"message\", handler);\n    ch.port2.postMessage(0);\n    ch.port1.start();\n  });\n}\nvar alwaysTrue = (t) => {\n  t[verifiedSymbol] = true;\n  return true;\n};\n\n// abstract-relay.ts\nvar SendingOnClosedConnection = class extends Error {\n  constructor(message, relay) {\n    super(`Tried to send message '${message} on a closed connection to ${relay}.`);\n    this.name = \"SendingOnClosedConnection\";\n  }\n};\nvar AbstractRelay = class {\n  url;\n  _connected = false;\n  onclose = null;\n  onnotice = (msg) => console.debug(`NOTICE from ${this.url}: ${msg}`);\n  baseEoseTimeout = 4400;\n  connectionTimeout = 4400;\n  publishTimeout = 4400;\n  openSubs = /* @__PURE__ */ new Map();\n  connectionTimeoutHandle;\n  connectionPromise;\n  openCountRequests = /* @__PURE__ */ new Map();\n  openEventPublishes = /* @__PURE__ */ new Map();\n  ws;\n  incomingMessageQueue = new Queue();\n  queueRunning = false;\n  challenge;\n  authPromise;\n  serial = 0;\n  verifyEvent;\n  _WebSocket;\n  constructor(url, opts) {\n    this.url = normalizeURL(url);\n    this.verifyEvent = opts.verifyEvent;\n    this._WebSocket = opts.websocketImplementation || WebSocket;\n  }\n  static async connect(url, opts) {\n    const relay = new AbstractRelay(url, opts);\n    await relay.connect();\n    return relay;\n  }\n  closeAllSubscriptions(reason) {\n    for (let [_, sub] of this.openSubs) {\n      sub.close(reason);\n    }\n    this.openSubs.clear();\n    for (let [_, ep] of this.openEventPublishes) {\n      ep.reject(new Error(reason));\n    }\n    this.openEventPublishes.clear();\n    for (let [_, cr] of this.openCountRequests) {\n      cr.reject(new Error(reason));\n    }\n    this.openCountRequests.clear();\n  }\n  get connected() {\n    return this._connected;\n  }\n  async connect() {\n    if (this.connectionPromise)\n      return this.connectionPromise;\n    this.challenge = void 0;\n    this.authPromise = void 0;\n    this.connectionPromise = new Promise((resolve, reject) => {\n      this.connectionTimeoutHandle = setTimeout(() => {\n        reject(\"connection timed out\");\n        this.connectionPromise = void 0;\n        this.onclose?.();\n        this.closeAllSubscriptions(\"relay connection timed out\");\n      }, this.connectionTimeout);\n      try {\n        this.ws = new this._WebSocket(this.url);\n      } catch (err) {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(err);\n        return;\n      }\n      this.ws.onopen = () => {\n        clearTimeout(this.connectionTimeoutHandle);\n        this._connected = true;\n        resolve();\n      };\n      this.ws.onerror = (ev) => {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(ev.message || \"websocket error\");\n        if (this._connected) {\n          this._connected = false;\n          this.connectionPromise = void 0;\n          this.onclose?.();\n          this.closeAllSubscriptions(\"relay connection errored\");\n        }\n      };\n      this.ws.onclose = (ev) => {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(ev.message || \"websocket closed\");\n        if (this._connected) {\n          this._connected = false;\n          this.connectionPromise = void 0;\n          this.onclose?.();\n          this.closeAllSubscriptions(\"relay connection closed\");\n        }\n      };\n      this.ws.onmessage = this._onmessage.bind(this);\n    });\n    return this.connectionPromise;\n  }\n  async runQueue() {\n    this.queueRunning = true;\n    while (true) {\n      if (false === this.handleNext()) {\n        break;\n      }\n      await yieldThread();\n    }\n    this.queueRunning = false;\n  }\n  handleNext() {\n    const json = this.incomingMessageQueue.dequeue();\n    if (!json) {\n      return false;\n    }\n    const subid = getSubscriptionId(json);\n    if (subid) {\n      const so = this.openSubs.get(subid);\n      if (!so) {\n        return;\n      }\n      const id = getHex64(json, \"id\");\n      const alreadyHave = so.alreadyHaveEvent?.(id);\n      so.receivedEvent?.(this, id);\n      if (alreadyHave) {\n        return;\n      }\n    }\n    try {\n      let data = JSON.parse(json);\n      switch (data[0]) {\n        case \"EVENT\": {\n          const so = this.openSubs.get(data[1]);\n          const event = data[2];\n          if (this.verifyEvent(event) && matchFilters(so.filters, event)) {\n            so.onevent(event);\n          }\n          return;\n        }\n        case \"COUNT\": {\n          const id = data[1];\n          const payload = data[2];\n          const cr = this.openCountRequests.get(id);\n          if (cr) {\n            cr.resolve(payload.count);\n            this.openCountRequests.delete(id);\n          }\n          return;\n        }\n        case \"EOSE\": {\n          const so = this.openSubs.get(data[1]);\n          if (!so)\n            return;\n          so.receivedEose();\n          return;\n        }\n        case \"OK\": {\n          const id = data[1];\n          const ok = data[2];\n          const reason = data[3];\n          const ep = this.openEventPublishes.get(id);\n          if (ep) {\n            clearTimeout(ep.timeout);\n            if (ok)\n              ep.resolve(reason);\n            else\n              ep.reject(new Error(reason));\n            this.openEventPublishes.delete(id);\n          }\n          return;\n        }\n        case \"CLOSED\": {\n          const id = data[1];\n          const so = this.openSubs.get(id);\n          if (!so)\n            return;\n          so.closed = true;\n          so.close(data[2]);\n          return;\n        }\n        case \"NOTICE\":\n          this.onnotice(data[1]);\n          return;\n        case \"AUTH\": {\n          this.challenge = data[1];\n          return;\n        }\n      }\n    } catch (err) {\n      return;\n    }\n  }\n  async send(message) {\n    if (!this.connectionPromise)\n      throw new SendingOnClosedConnection(message, this.url);\n    this.connectionPromise.then(() => {\n      this.ws?.send(message);\n    });\n  }\n  async auth(signAuthEvent) {\n    const challenge = this.challenge;\n    if (!challenge)\n      throw new Error(\"can't perform auth, no challenge was received\");\n    if (this.authPromise)\n      return this.authPromise;\n    this.authPromise = new Promise(async (resolve, reject) => {\n      try {\n        let evt = await signAuthEvent(makeAuthEvent(this.url, challenge));\n        let timeout = setTimeout(() => {\n          let ep = this.openEventPublishes.get(evt.id);\n          if (ep) {\n            ep.reject(new Error(\"auth timed out\"));\n            this.openEventPublishes.delete(evt.id);\n          }\n        }, this.publishTimeout);\n        this.openEventPublishes.set(evt.id, { resolve, reject, timeout });\n        this.send('[\"AUTH\",' + JSON.stringify(evt) + \"]\");\n      } catch (err) {\n        console.warn(\"subscribe auth function failed:\", err);\n      }\n    });\n    return this.authPromise;\n  }\n  async publish(event) {\n    const ret = new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        const ep = this.openEventPublishes.get(event.id);\n        if (ep) {\n          ep.reject(new Error(\"publish timed out\"));\n          this.openEventPublishes.delete(event.id);\n        }\n      }, this.publishTimeout);\n      this.openEventPublishes.set(event.id, { resolve, reject, timeout });\n    });\n    this.send('[\"EVENT\",' + JSON.stringify(event) + \"]\");\n    return ret;\n  }\n  async count(filters, params) {\n    this.serial++;\n    const id = params?.id || \"count:\" + this.serial;\n    const ret = new Promise((resolve, reject) => {\n      this.openCountRequests.set(id, { resolve, reject });\n    });\n    this.send('[\"COUNT\",\"' + id + '\",' + JSON.stringify(filters).substring(1));\n    return ret;\n  }\n  subscribe(filters, params) {\n    const subscription = this.prepareSubscription(filters, params);\n    subscription.fire();\n    return subscription;\n  }\n  prepareSubscription(filters, params) {\n    this.serial++;\n    const id = params.id || (params.label ? params.label + \":\" : \"sub:\") + this.serial;\n    const subscription = new Subscription(this, id, filters, params);\n    this.openSubs.set(id, subscription);\n    return subscription;\n  }\n  close() {\n    this.closeAllSubscriptions(\"relay connection closed by us\");\n    this._connected = false;\n    this.ws?.close();\n  }\n  _onmessage(ev) {\n    this.incomingMessageQueue.enqueue(ev.data);\n    if (!this.queueRunning) {\n      this.runQueue();\n    }\n  }\n};\nvar Subscription = class {\n  relay;\n  id;\n  closed = false;\n  eosed = false;\n  filters;\n  alreadyHaveEvent;\n  receivedEvent;\n  onevent;\n  oneose;\n  onclose;\n  eoseTimeout;\n  eoseTimeoutHandle;\n  constructor(relay, id, filters, params) {\n    this.relay = relay;\n    this.filters = filters;\n    this.id = id;\n    this.alreadyHaveEvent = params.alreadyHaveEvent;\n    this.receivedEvent = params.receivedEvent;\n    this.eoseTimeout = params.eoseTimeout || relay.baseEoseTimeout;\n    this.oneose = params.oneose;\n    this.onclose = params.onclose;\n    this.onevent = params.onevent || ((event) => {\n      console.warn(\n        `onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,\n        event\n      );\n    });\n  }\n  fire() {\n    this.relay.send('[\"REQ\",\"' + this.id + '\",' + JSON.stringify(this.filters).substring(1));\n    this.eoseTimeoutHandle = setTimeout(this.receivedEose.bind(this), this.eoseTimeout);\n  }\n  receivedEose() {\n    if (this.eosed)\n      return;\n    clearTimeout(this.eoseTimeoutHandle);\n    this.eosed = true;\n    this.oneose?.();\n  }\n  close(reason = \"closed by caller\") {\n    if (!this.closed && this.relay.connected) {\n      try {\n        this.relay.send('[\"CLOSE\",' + JSON.stringify(this.id) + \"]\");\n      } catch (err) {\n        if (err instanceof SendingOnClosedConnection) {\n        } else {\n          throw err;\n        }\n      }\n      this.closed = true;\n    }\n    this.relay.openSubs.delete(this.id);\n    this.onclose?.(reason);\n  }\n};\n\n// relay.ts\nvar _WebSocket;\ntry {\n  _WebSocket = WebSocket;\n} catch {\n}\nvar Relay = class extends AbstractRelay {\n  constructor(url) {\n    super(url, { verifyEvent, websocketImplementation: _WebSocket });\n  }\n  static async connect(url) {\n    const relay = new Relay(url);\n    await relay.connect();\n    return relay;\n  }\n};\n\n// abstract-pool.ts\nvar AbstractSimplePool = class {\n  relays = /* @__PURE__ */ new Map();\n  seenOn = /* @__PURE__ */ new Map();\n  trackRelays = false;\n  verifyEvent;\n  trustedRelayURLs = /* @__PURE__ */ new Set();\n  _WebSocket;\n  constructor(opts) {\n    this.verifyEvent = opts.verifyEvent;\n    this._WebSocket = opts.websocketImplementation;\n  }\n  async ensureRelay(url, params) {\n    url = normalizeURL(url);\n    let relay = this.relays.get(url);\n    if (!relay) {\n      relay = new AbstractRelay(url, {\n        verifyEvent: this.trustedRelayURLs.has(url) ? alwaysTrue : this.verifyEvent,\n        websocketImplementation: this._WebSocket\n      });\n      if (params?.connectionTimeout)\n        relay.connectionTimeout = params.connectionTimeout;\n      this.relays.set(url, relay);\n    }\n    await relay.connect();\n    return relay;\n  }\n  close(relays) {\n    relays.map(normalizeURL).forEach((url) => {\n      this.relays.get(url)?.close();\n    });\n  }\n  subscribe(relays, filter, params) {\n    params.onauth = params.onauth || params.doauth;\n    return this.subscribeMap(\n      relays.map((url) => ({ url, filter })),\n      params\n    );\n  }\n  subscribeMany(relays, filters, params) {\n    params.onauth = params.onauth || params.doauth;\n    return this.subscribeMap(\n      relays.flatMap((url) => filters.map((filter) => ({ url, filter }))),\n      params\n    );\n  }\n  subscribeMap(requests, params) {\n    params.onauth = params.onauth || params.doauth;\n    if (this.trackRelays) {\n      params.receivedEvent = (relay, id) => {\n        let set = this.seenOn.get(id);\n        if (!set) {\n          set = /* @__PURE__ */ new Set();\n          this.seenOn.set(id, set);\n        }\n        set.add(relay);\n      };\n    }\n    const _knownIds = /* @__PURE__ */ new Set();\n    const subs = [];\n    const eosesReceived = [];\n    let handleEose = (i2) => {\n      if (eosesReceived[i2])\n        return;\n      eosesReceived[i2] = true;\n      if (eosesReceived.filter((a) => a).length === requests.length) {\n        params.oneose?.();\n        handleEose = () => {\n        };\n      }\n    };\n    const closesReceived = [];\n    let handleClose = (i2, reason) => {\n      if (closesReceived[i2])\n        return;\n      handleEose(i2);\n      closesReceived[i2] = reason;\n      if (closesReceived.filter((a) => a).length === requests.length) {\n        params.onclose?.(closesReceived);\n        handleClose = () => {\n        };\n      }\n    };\n    const localAlreadyHaveEventHandler = (id) => {\n      if (params.alreadyHaveEvent?.(id)) {\n        return true;\n      }\n      const have = _knownIds.has(id);\n      _knownIds.add(id);\n      return have;\n    };\n    const allOpened = Promise.all(\n      requests.map(async ({ url, filter }, i2) => {\n        url = normalizeURL(url);\n        let relay;\n        try {\n          relay = await this.ensureRelay(url, {\n            connectionTimeout: params.maxWait ? Math.max(params.maxWait * 0.8, params.maxWait - 1e3) : void 0\n          });\n        } catch (err) {\n          handleClose(i2, err?.message || String(err));\n          return;\n        }\n        let subscription = relay.subscribe([filter], {\n          ...params,\n          oneose: () => handleEose(i2),\n          onclose: (reason) => {\n            if (reason.startsWith(\"auth-required: \") && params.onauth) {\n              relay.auth(params.onauth).then(() => {\n                relay.subscribe([filter], {\n                  ...params,\n                  oneose: () => handleEose(i2),\n                  onclose: (reason2) => {\n                    handleClose(i2, reason2);\n                  },\n                  alreadyHaveEvent: localAlreadyHaveEventHandler,\n                  eoseTimeout: params.maxWait\n                });\n              }).catch((err) => {\n                handleClose(i2, `auth was required and attempted, but failed with: ${err}`);\n              });\n            } else {\n              handleClose(i2, reason);\n            }\n          },\n          alreadyHaveEvent: localAlreadyHaveEventHandler,\n          eoseTimeout: params.maxWait\n        });\n        subs.push(subscription);\n      })\n    );\n    return {\n      async close(reason) {\n        await allOpened;\n        subs.forEach((sub) => {\n          sub.close(reason);\n        });\n      }\n    };\n  }\n  subscribeEose(relays, filter, params) {\n    params.onauth = params.onauth || params.doauth;\n    const subcloser = this.subscribe(relays, filter, {\n      ...params,\n      oneose() {\n        subcloser.close(\"closed automatically on eose\");\n      }\n    });\n    return subcloser;\n  }\n  subscribeManyEose(relays, filters, params) {\n    params.onauth = params.onauth || params.doauth;\n    const subcloser = this.subscribeMany(relays, filters, {\n      ...params,\n      oneose() {\n        subcloser.close(\"closed automatically on eose\");\n      }\n    });\n    return subcloser;\n  }\n  async querySync(relays, filter, params) {\n    return new Promise(async (resolve) => {\n      const events = [];\n      this.subscribeEose(relays, filter, {\n        ...params,\n        onevent(event) {\n          events.push(event);\n        },\n        onclose(_) {\n          resolve(events);\n        }\n      });\n    });\n  }\n  async get(relays, filter, params) {\n    filter.limit = 1;\n    const events = await this.querySync(relays, filter, params);\n    events.sort((a, b) => b.created_at - a.created_at);\n    return events[0] || null;\n  }\n  publish(relays, event, options) {\n    return relays.map(normalizeURL).map(async (url, i2, arr) => {\n      if (arr.indexOf(url) !== i2) {\n        return Promise.reject(\"duplicate url\");\n      }\n      let r = await this.ensureRelay(url);\n      return r.publish(event).catch(async (err) => {\n        if (err instanceof Error && err.message.startsWith(\"auth-required: \") && options?.onauth) {\n          await r.auth(options.onauth);\n          return r.publish(event);\n        }\n        throw err;\n      }).then((reason) => {\n        if (this.trackRelays) {\n          let set = this.seenOn.get(event.id);\n          if (!set) {\n            set = /* @__PURE__ */ new Set();\n            this.seenOn.set(event.id, set);\n          }\n          set.add(r);\n        }\n        return reason;\n      });\n    });\n  }\n  listConnectionStatus() {\n    const map = /* @__PURE__ */ new Map();\n    this.relays.forEach((relay, url) => map.set(url, relay.connected));\n    return map;\n  }\n  destroy() {\n    this.relays.forEach((conn) => conn.close());\n    this.relays = /* @__PURE__ */ new Map();\n  }\n};\n\n// pool.ts\nvar _WebSocket2;\ntry {\n  _WebSocket2 = WebSocket;\n} catch {\n}\nvar SimplePool = class extends AbstractSimplePool {\n  constructor() {\n    super({ verifyEvent, websocketImplementation: _WebSocket2 });\n  }\n};\n\n// nip19.ts\nvar nip19_exports = {};\n__export(nip19_exports, {\n  BECH32_REGEX: () => BECH32_REGEX,\n  Bech32MaxSize: () => Bech32MaxSize,\n  NostrTypeGuard: () => NostrTypeGuard,\n  decode: () => decode,\n  decodeNostrURI: () => decodeNostrURI,\n  encodeBytes: () => encodeBytes,\n  naddrEncode: () => naddrEncode,\n  neventEncode: () => neventEncode,\n  noteEncode: () => noteEncode,\n  nprofileEncode: () => nprofileEncode,\n  npubEncode: () => npubEncode,\n  nsecEncode: () => nsecEncode\n});\nimport { bytesToHex as bytesToHex3, concatBytes, hexToBytes as hexToBytes2 } from \"@noble/hashes/utils\";\nimport { bech32 } from \"@scure/base\";\nvar NostrTypeGuard = {\n  isNProfile: (value) => /^nprofile1[a-z\\d]+$/.test(value || \"\"),\n  isNEvent: (value) => /^nevent1[a-z\\d]+$/.test(value || \"\"),\n  isNAddr: (value) => /^naddr1[a-z\\d]+$/.test(value || \"\"),\n  isNSec: (value) => /^nsec1[a-z\\d]{58}$/.test(value || \"\"),\n  isNPub: (value) => /^npub1[a-z\\d]{58}$/.test(value || \"\"),\n  isNote: (value) => /^note1[a-z\\d]+$/.test(value || \"\"),\n  isNcryptsec: (value) => /^ncryptsec1[a-z\\d]+$/.test(value || \"\")\n};\nvar Bech32MaxSize = 5e3;\nvar BECH32_REGEX = /[\\x21-\\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;\nfunction integerToUint8Array(number) {\n  const uint8Array = new Uint8Array(4);\n  uint8Array[0] = number >> 24 & 255;\n  uint8Array[1] = number >> 16 & 255;\n  uint8Array[2] = number >> 8 & 255;\n  uint8Array[3] = number & 255;\n  return uint8Array;\n}\nfunction decodeNostrURI(nip19code) {\n  try {\n    if (nip19code.startsWith(\"nostr:\"))\n      nip19code = nip19code.substring(6);\n    return decode(nip19code);\n  } catch (_err) {\n    return { type: \"invalid\", data: null };\n  }\n}\nfunction decode(code) {\n  let { prefix, words } = bech32.decode(code, Bech32MaxSize);\n  let data = new Uint8Array(bech32.fromWords(words));\n  switch (prefix) {\n    case \"nprofile\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for nprofile\");\n      if (tlv[0][0].length !== 32)\n        throw new Error(\"TLV 0 should be 32 bytes\");\n      return {\n        type: \"nprofile\",\n        data: {\n          pubkey: bytesToHex3(tlv[0][0]),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : []\n        }\n      };\n    }\n    case \"nevent\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for nevent\");\n      if (tlv[0][0].length !== 32)\n        throw new Error(\"TLV 0 should be 32 bytes\");\n      if (tlv[2] && tlv[2][0].length !== 32)\n        throw new Error(\"TLV 2 should be 32 bytes\");\n      if (tlv[3] && tlv[3][0].length !== 4)\n        throw new Error(\"TLV 3 should be 4 bytes\");\n      return {\n        type: \"nevent\",\n        data: {\n          id: bytesToHex3(tlv[0][0]),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : [],\n          author: tlv[2]?.[0] ? bytesToHex3(tlv[2][0]) : void 0,\n          kind: tlv[3]?.[0] ? parseInt(bytesToHex3(tlv[3][0]), 16) : void 0\n        }\n      };\n    }\n    case \"naddr\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for naddr\");\n      if (!tlv[2]?.[0])\n        throw new Error(\"missing TLV 2 for naddr\");\n      if (tlv[2][0].length !== 32)\n        throw new Error(\"TLV 2 should be 32 bytes\");\n      if (!tlv[3]?.[0])\n        throw new Error(\"missing TLV 3 for naddr\");\n      if (tlv[3][0].length !== 4)\n        throw new Error(\"TLV 3 should be 4 bytes\");\n      return {\n        type: \"naddr\",\n        data: {\n          identifier: utf8Decoder.decode(tlv[0][0]),\n          pubkey: bytesToHex3(tlv[2][0]),\n          kind: parseInt(bytesToHex3(tlv[3][0]), 16),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : []\n        }\n      };\n    }\n    case \"nsec\":\n      return { type: prefix, data };\n    case \"npub\":\n    case \"note\":\n      return { type: prefix, data: bytesToHex3(data) };\n    default:\n      throw new Error(`unknown prefix ${prefix}`);\n  }\n}\nfunction parseTLV(data) {\n  let result = {};\n  let rest = data;\n  while (rest.length > 0) {\n    let t = rest[0];\n    let l = rest[1];\n    let v = rest.slice(2, 2 + l);\n    rest = rest.slice(2 + l);\n    if (v.length < l)\n      throw new Error(`not enough data to read on TLV ${t}`);\n    result[t] = result[t] || [];\n    result[t].push(v);\n  }\n  return result;\n}\nfunction nsecEncode(key) {\n  return encodeBytes(\"nsec\", key);\n}\nfunction npubEncode(hex) {\n  return encodeBytes(\"npub\", hexToBytes2(hex));\n}\nfunction noteEncode(hex) {\n  return encodeBytes(\"note\", hexToBytes2(hex));\n}\nfunction encodeBech32(prefix, data) {\n  let words = bech32.toWords(data);\n  return bech32.encode(prefix, words, Bech32MaxSize);\n}\nfunction encodeBytes(prefix, bytes) {\n  return encodeBech32(prefix, bytes);\n}\nfunction nprofileEncode(profile) {\n  let data = encodeTLV({\n    0: [hexToBytes2(profile.pubkey)],\n    1: (profile.relays || []).map((url) => utf8Encoder.encode(url))\n  });\n  return encodeBech32(\"nprofile\", data);\n}\nfunction neventEncode(event) {\n  let kindArray;\n  if (event.kind !== void 0) {\n    kindArray = integerToUint8Array(event.kind);\n  }\n  let data = encodeTLV({\n    0: [hexToBytes2(event.id)],\n    1: (event.relays || []).map((url) => utf8Encoder.encode(url)),\n    2: event.author ? [hexToBytes2(event.author)] : [],\n    3: kindArray ? [new Uint8Array(kindArray)] : []\n  });\n  return encodeBech32(\"nevent\", data);\n}\nfunction naddrEncode(addr) {\n  let kind = new ArrayBuffer(4);\n  new DataView(kind).setUint32(0, addr.kind, false);\n  let data = encodeTLV({\n    0: [utf8Encoder.encode(addr.identifier)],\n    1: (addr.relays || []).map((url) => utf8Encoder.encode(url)),\n    2: [hexToBytes2(addr.pubkey)],\n    3: [new Uint8Array(kind)]\n  });\n  return encodeBech32(\"naddr\", data);\n}\nfunction encodeTLV(tlv) {\n  let entries = [];\n  Object.entries(tlv).reverse().forEach(([t, vs]) => {\n    vs.forEach((v) => {\n      let entry = new Uint8Array(v.length + 2);\n      entry.set([parseInt(t)], 0);\n      entry.set([v.length], 1);\n      entry.set(v, 2);\n      entries.push(entry);\n    });\n  });\n  return concatBytes(...entries);\n}\n\n// references.ts\nvar mentionRegex = /\\bnostr:((note|npub|naddr|nevent|nprofile)1\\w+)\\b|#\\[(\\d+)\\]/g;\nfunction parseReferences(evt) {\n  let references = [];\n  for (let ref of evt.content.matchAll(mentionRegex)) {\n    if (ref[2]) {\n      try {\n        let { type, data } = decode(ref[1]);\n        switch (type) {\n          case \"npub\": {\n            references.push({\n              text: ref[0],\n              profile: { pubkey: data, relays: [] }\n            });\n            break;\n          }\n          case \"nprofile\": {\n            references.push({\n              text: ref[0],\n              profile: data\n            });\n            break;\n          }\n          case \"note\": {\n            references.push({\n              text: ref[0],\n              event: { id: data, relays: [] }\n            });\n            break;\n          }\n          case \"nevent\": {\n            references.push({\n              text: ref[0],\n              event: data\n            });\n            break;\n          }\n          case \"naddr\": {\n            references.push({\n              text: ref[0],\n              address: data\n            });\n            break;\n          }\n        }\n      } catch (err) {\n      }\n    } else if (ref[3]) {\n      let idx = parseInt(ref[3], 10);\n      let tag = evt.tags[idx];\n      if (!tag)\n        continue;\n      switch (tag[0]) {\n        case \"p\": {\n          references.push({\n            text: ref[0],\n            profile: { pubkey: tag[1], relays: tag[2] ? [tag[2]] : [] }\n          });\n          break;\n        }\n        case \"e\": {\n          references.push({\n            text: ref[0],\n            event: { id: tag[1], relays: tag[2] ? [tag[2]] : [] }\n          });\n          break;\n        }\n        case \"a\": {\n          try {\n            let [kind, pubkey, identifier] = tag[1].split(\":\");\n            references.push({\n              text: ref[0],\n              address: {\n                identifier,\n                pubkey,\n                kind: parseInt(kind, 10),\n                relays: tag[2] ? [tag[2]] : []\n              }\n            });\n          } catch (err) {\n          }\n          break;\n        }\n      }\n    }\n  }\n  return references;\n}\n\n// nip04.ts\nvar nip04_exports = {};\n__export(nip04_exports, {\n  decrypt: () => decrypt,\n  encrypt: () => encrypt\n});\nimport { bytesToHex as bytesToHex4, randomBytes } from \"@noble/hashes/utils\";\nimport { secp256k1 } from \"@noble/curves/secp256k1\";\nimport { cbc } from \"@noble/ciphers/aes\";\nimport { base64 } from \"@scure/base\";\nfunction encrypt(secretKey, pubkey, text) {\n  const privkey = secretKey instanceof Uint8Array ? bytesToHex4(secretKey) : secretKey;\n  const key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n  const normalizedKey = getNormalizedX(key);\n  let iv = Uint8Array.from(randomBytes(16));\n  let plaintext = utf8Encoder.encode(text);\n  let ciphertext = cbc(normalizedKey, iv).encrypt(plaintext);\n  let ctb64 = base64.encode(new Uint8Array(ciphertext));\n  let ivb64 = base64.encode(new Uint8Array(iv.buffer));\n  return `${ctb64}?iv=${ivb64}`;\n}\nfunction decrypt(secretKey, pubkey, data) {\n  const privkey = secretKey instanceof Uint8Array ? bytesToHex4(secretKey) : secretKey;\n  let [ctb64, ivb64] = data.split(\"?iv=\");\n  let key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n  let normalizedKey = getNormalizedX(key);\n  let iv = base64.decode(ivb64);\n  let ciphertext = base64.decode(ctb64);\n  let plaintext = cbc(normalizedKey, iv).decrypt(ciphertext);\n  return utf8Decoder.decode(plaintext);\n}\nfunction getNormalizedX(key) {\n  return key.slice(1, 33);\n}\n\n// nip05.ts\nvar nip05_exports = {};\n__export(nip05_exports, {\n  NIP05_REGEX: () => NIP05_REGEX,\n  isNip05: () => isNip05,\n  isValid: () => isValid,\n  queryProfile: () => queryProfile,\n  searchDomain: () => searchDomain,\n  useFetchImplementation: () => useFetchImplementation\n});\nvar NIP05_REGEX = /^(?:([\\w.+-]+)@)?([\\w_-]+(\\.[\\w_-]+)+)$/;\nvar isNip05 = (value) => NIP05_REGEX.test(value || \"\");\nvar _fetch;\ntry {\n  _fetch = fetch;\n} catch (_) {\n  null;\n}\nfunction useFetchImplementation(fetchImplementation) {\n  _fetch = fetchImplementation;\n}\nasync function searchDomain(domain, query = \"\") {\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${query}`;\n    const res = await _fetch(url, { redirect: \"manual\" });\n    if (res.status !== 200) {\n      throw Error(\"Wrong response code\");\n    }\n    const json = await res.json();\n    return json.names;\n  } catch (_) {\n    return {};\n  }\n}\nasync function queryProfile(fullname) {\n  const match = fullname.match(NIP05_REGEX);\n  if (!match)\n    return null;\n  const [, name = \"_\", domain] = match;\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${name}`;\n    const res = await _fetch(url, { redirect: \"manual\" });\n    if (res.status !== 200) {\n      throw Error(\"Wrong response code\");\n    }\n    const json = await res.json();\n    const pubkey = json.names[name];\n    return pubkey ? { pubkey, relays: json.relays?.[pubkey] } : null;\n  } catch (_e) {\n    return null;\n  }\n}\nasync function isValid(pubkey, nip05) {\n  const res = await queryProfile(nip05);\n  return res ? res.pubkey === pubkey : false;\n}\n\n// nip10.ts\nvar nip10_exports = {};\n__export(nip10_exports, {\n  parse: () => parse\n});\nfunction parse(event) {\n  const result = {\n    reply: void 0,\n    root: void 0,\n    mentions: [],\n    profiles: [],\n    quotes: []\n  };\n  let maybeParent;\n  let maybeRoot;\n  for (let i2 = event.tags.length - 1; i2 >= 0; i2--) {\n    const tag = event.tags[i2];\n    if (tag[0] === \"e\" && tag[1]) {\n      const [_, eTagEventId, eTagRelayUrl, eTagMarker, eTagAuthor] = tag;\n      const eventPointer = {\n        id: eTagEventId,\n        relays: eTagRelayUrl ? [eTagRelayUrl] : [],\n        author: eTagAuthor\n      };\n      if (eTagMarker === \"root\") {\n        result.root = eventPointer;\n        continue;\n      }\n      if (eTagMarker === \"reply\") {\n        result.reply = eventPointer;\n        continue;\n      }\n      if (eTagMarker === \"mention\") {\n        result.mentions.push(eventPointer);\n        continue;\n      }\n      if (!maybeParent) {\n        maybeParent = eventPointer;\n      } else {\n        maybeRoot = eventPointer;\n      }\n      result.mentions.push(eventPointer);\n      continue;\n    }\n    if (tag[0] === \"q\" && tag[1]) {\n      const [_, eTagEventId, eTagRelayUrl] = tag;\n      result.quotes.push({\n        id: eTagEventId,\n        relays: eTagRelayUrl ? [eTagRelayUrl] : []\n      });\n    }\n    if (tag[0] === \"p\" && tag[1]) {\n      result.profiles.push({\n        pubkey: tag[1],\n        relays: tag[2] ? [tag[2]] : []\n      });\n      continue;\n    }\n  }\n  if (!result.root) {\n    result.root = maybeRoot || maybeParent || result.reply;\n  }\n  if (!result.reply) {\n    result.reply = maybeParent || result.root;\n  }\n  ;\n  [result.reply, result.root].forEach((ref) => {\n    if (!ref)\n      return;\n    let idx = result.mentions.indexOf(ref);\n    if (idx !== -1) {\n      result.mentions.splice(idx, 1);\n    }\n    if (ref.author) {\n      let author = result.profiles.find((p) => p.pubkey === ref.author);\n      if (author && author.relays) {\n        if (!ref.relays) {\n          ref.relays = [];\n        }\n        author.relays.forEach((url) => {\n          if (ref.relays?.indexOf(url) === -1)\n            ref.relays.push(url);\n        });\n        author.relays = ref.relays;\n      }\n    }\n  });\n  result.mentions.forEach((ref) => {\n    if (ref.author) {\n      let author = result.profiles.find((p) => p.pubkey === ref.author);\n      if (author && author.relays) {\n        if (!ref.relays) {\n          ref.relays = [];\n        }\n        author.relays.forEach((url) => {\n          if (ref.relays.indexOf(url) === -1)\n            ref.relays.push(url);\n        });\n        author.relays = ref.relays;\n      }\n    }\n  });\n  return result;\n}\n\n// nip11.ts\nvar nip11_exports = {};\n__export(nip11_exports, {\n  fetchRelayInformation: () => fetchRelayInformation,\n  useFetchImplementation: () => useFetchImplementation2\n});\nvar _fetch2;\ntry {\n  _fetch2 = fetch;\n} catch {\n}\nfunction useFetchImplementation2(fetchImplementation) {\n  _fetch2 = fetchImplementation;\n}\nasync function fetchRelayInformation(url) {\n  return await (await fetch(url.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\"), {\n    headers: { Accept: \"application/nostr+json\" }\n  })).json();\n}\n\n// nip13.ts\nvar nip13_exports = {};\n__export(nip13_exports, {\n  fastEventHash: () => fastEventHash,\n  getPow: () => getPow,\n  minePow: () => minePow\n});\nimport { bytesToHex as bytesToHex5 } from \"@noble/hashes/utils\";\nimport { sha256 as sha2562 } from \"@noble/hashes/sha256\";\nfunction getPow(hex) {\n  let count = 0;\n  for (let i2 = 0; i2 < 64; i2 += 8) {\n    const nibble = parseInt(hex.substring(i2, i2 + 8), 16);\n    if (nibble === 0) {\n      count += 32;\n    } else {\n      count += Math.clz32(nibble);\n      break;\n    }\n  }\n  return count;\n}\nfunction minePow(unsigned, difficulty) {\n  let count = 0;\n  const event = unsigned;\n  const tag = [\"nonce\", count.toString(), difficulty.toString()];\n  event.tags.push(tag);\n  while (true) {\n    const now2 = Math.floor(new Date().getTime() / 1e3);\n    if (now2 !== event.created_at) {\n      count = 0;\n      event.created_at = now2;\n    }\n    tag[1] = (++count).toString();\n    event.id = fastEventHash(event);\n    if (getPow(event.id) >= difficulty) {\n      break;\n    }\n  }\n  return event;\n}\nfunction fastEventHash(evt) {\n  return bytesToHex5(\n    sha2562(utf8Encoder.encode(JSON.stringify([0, evt.pubkey, evt.created_at, evt.kind, evt.tags, evt.content])))\n  );\n}\n\n// nip17.ts\nvar nip17_exports = {};\n__export(nip17_exports, {\n  unwrapEvent: () => unwrapEvent2,\n  unwrapManyEvents: () => unwrapManyEvents2,\n  wrapEvent: () => wrapEvent2,\n  wrapManyEvents: () => wrapManyEvents2\n});\n\n// nip59.ts\nvar nip59_exports = {};\n__export(nip59_exports, {\n  createRumor: () => createRumor,\n  createSeal: () => createSeal,\n  createWrap: () => createWrap,\n  unwrapEvent: () => unwrapEvent,\n  unwrapManyEvents: () => unwrapManyEvents,\n  wrapEvent: () => wrapEvent,\n  wrapManyEvents: () => wrapManyEvents\n});\n\n// nip44.ts\nvar nip44_exports = {};\n__export(nip44_exports, {\n  decrypt: () => decrypt2,\n  encrypt: () => encrypt2,\n  getConversationKey: () => getConversationKey,\n  v2: () => v2\n});\nimport { chacha20 } from \"@noble/ciphers/chacha\";\nimport { equalBytes } from \"@noble/ciphers/utils\";\nimport { secp256k1 as secp256k12 } from \"@noble/curves/secp256k1\";\nimport { extract as hkdf_extract, expand as hkdf_expand } from \"@noble/hashes/hkdf\";\nimport { hmac } from \"@noble/hashes/hmac\";\nimport { sha256 as sha2563 } from \"@noble/hashes/sha256\";\nimport { concatBytes as concatBytes2, randomBytes as randomBytes2 } from \"@noble/hashes/utils\";\nimport { base64 as base642 } from \"@scure/base\";\nvar minPlaintextSize = 1;\nvar maxPlaintextSize = 65535;\nfunction getConversationKey(privkeyA, pubkeyB) {\n  const sharedX = secp256k12.getSharedSecret(privkeyA, \"02\" + pubkeyB).subarray(1, 33);\n  return hkdf_extract(sha2563, sharedX, \"nip44-v2\");\n}\nfunction getMessageKeys(conversationKey, nonce) {\n  const keys = hkdf_expand(sha2563, conversationKey, nonce, 76);\n  return {\n    chacha_key: keys.subarray(0, 32),\n    chacha_nonce: keys.subarray(32, 44),\n    hmac_key: keys.subarray(44, 76)\n  };\n}\nfunction calcPaddedLen(len) {\n  if (!Number.isSafeInteger(len) || len < 1)\n    throw new Error(\"expected positive integer\");\n  if (len <= 32)\n    return 32;\n  const nextPower = 1 << Math.floor(Math.log2(len - 1)) + 1;\n  const chunk = nextPower <= 256 ? 32 : nextPower / 8;\n  return chunk * (Math.floor((len - 1) / chunk) + 1);\n}\nfunction writeU16BE(num) {\n  if (!Number.isSafeInteger(num) || num < minPlaintextSize || num > maxPlaintextSize)\n    throw new Error(\"invalid plaintext size: must be between 1 and 65535 bytes\");\n  const arr = new Uint8Array(2);\n  new DataView(arr.buffer).setUint16(0, num, false);\n  return arr;\n}\nfunction pad(plaintext) {\n  const unpadded = utf8Encoder.encode(plaintext);\n  const unpaddedLen = unpadded.length;\n  const prefix = writeU16BE(unpaddedLen);\n  const suffix = new Uint8Array(calcPaddedLen(unpaddedLen) - unpaddedLen);\n  return concatBytes2(prefix, unpadded, suffix);\n}\nfunction unpad(padded) {\n  const unpaddedLen = new DataView(padded.buffer).getUint16(0);\n  const unpadded = padded.subarray(2, 2 + unpaddedLen);\n  if (unpaddedLen < minPlaintextSize || unpaddedLen > maxPlaintextSize || unpadded.length !== unpaddedLen || padded.length !== 2 + calcPaddedLen(unpaddedLen))\n    throw new Error(\"invalid padding\");\n  return utf8Decoder.decode(unpadded);\n}\nfunction hmacAad(key, message, aad) {\n  if (aad.length !== 32)\n    throw new Error(\"AAD associated data must be 32 bytes\");\n  const combined = concatBytes2(aad, message);\n  return hmac(sha2563, key, combined);\n}\nfunction decodePayload(payload) {\n  if (typeof payload !== \"string\")\n    throw new Error(\"payload must be a valid string\");\n  const plen = payload.length;\n  if (plen < 132 || plen > 87472)\n    throw new Error(\"invalid payload length: \" + plen);\n  if (payload[0] === \"#\")\n    throw new Error(\"unknown encryption version\");\n  let data;\n  try {\n    data = base642.decode(payload);\n  } catch (error) {\n    throw new Error(\"invalid base64: \" + error.message);\n  }\n  const dlen = data.length;\n  if (dlen < 99 || dlen > 65603)\n    throw new Error(\"invalid data length: \" + dlen);\n  const vers = data[0];\n  if (vers !== 2)\n    throw new Error(\"unknown encryption version \" + vers);\n  return {\n    nonce: data.subarray(1, 33),\n    ciphertext: data.subarray(33, -32),\n    mac: data.subarray(-32)\n  };\n}\nfunction encrypt2(plaintext, conversationKey, nonce = randomBytes2(32)) {\n  const { chacha_key, chacha_nonce, hmac_key } = getMessageKeys(conversationKey, nonce);\n  const padded = pad(plaintext);\n  const ciphertext = chacha20(chacha_key, chacha_nonce, padded);\n  const mac = hmacAad(hmac_key, ciphertext, nonce);\n  return base642.encode(concatBytes2(new Uint8Array([2]), nonce, ciphertext, mac));\n}\nfunction decrypt2(payload, conversationKey) {\n  const { nonce, ciphertext, mac } = decodePayload(payload);\n  const { chacha_key, chacha_nonce, hmac_key } = getMessageKeys(conversationKey, nonce);\n  const calculatedMac = hmacAad(hmac_key, ciphertext, nonce);\n  if (!equalBytes(calculatedMac, mac))\n    throw new Error(\"invalid MAC\");\n  const padded = chacha20(chacha_key, chacha_nonce, ciphertext);\n  return unpad(padded);\n}\nvar v2 = {\n  utils: {\n    getConversationKey,\n    calcPaddedLen\n  },\n  encrypt: encrypt2,\n  decrypt: decrypt2\n};\n\n// nip59.ts\nvar TWO_DAYS = 2 * 24 * 60 * 60;\nvar now = () => Math.round(Date.now() / 1e3);\nvar randomNow = () => Math.round(now() - Math.random() * TWO_DAYS);\nvar nip44ConversationKey = (privateKey, publicKey) => getConversationKey(privateKey, publicKey);\nvar nip44Encrypt = (data, privateKey, publicKey) => encrypt2(JSON.stringify(data), nip44ConversationKey(privateKey, publicKey));\nvar nip44Decrypt = (data, privateKey) => JSON.parse(decrypt2(data.content, nip44ConversationKey(privateKey, data.pubkey)));\nfunction createRumor(event, privateKey) {\n  const rumor = {\n    created_at: now(),\n    content: \"\",\n    tags: [],\n    ...event,\n    pubkey: getPublicKey(privateKey)\n  };\n  rumor.id = getEventHash(rumor);\n  return rumor;\n}\nfunction createSeal(rumor, privateKey, recipientPublicKey) {\n  return finalizeEvent(\n    {\n      kind: Seal,\n      content: nip44Encrypt(rumor, privateKey, recipientPublicKey),\n      created_at: randomNow(),\n      tags: []\n    },\n    privateKey\n  );\n}\nfunction createWrap(seal, recipientPublicKey) {\n  const randomKey = generateSecretKey();\n  return finalizeEvent(\n    {\n      kind: GiftWrap,\n      content: nip44Encrypt(seal, randomKey, recipientPublicKey),\n      created_at: randomNow(),\n      tags: [[\"p\", recipientPublicKey]]\n    },\n    randomKey\n  );\n}\nfunction wrapEvent(event, senderPrivateKey, recipientPublicKey) {\n  const rumor = createRumor(event, senderPrivateKey);\n  const seal = createSeal(rumor, senderPrivateKey, recipientPublicKey);\n  return createWrap(seal, recipientPublicKey);\n}\nfunction wrapManyEvents(event, senderPrivateKey, recipientsPublicKeys) {\n  if (!recipientsPublicKeys || recipientsPublicKeys.length === 0) {\n    throw new Error(\"At least one recipient is required.\");\n  }\n  const senderPublicKey = getPublicKey(senderPrivateKey);\n  const wrappeds = [wrapEvent(event, senderPrivateKey, senderPublicKey)];\n  recipientsPublicKeys.forEach((recipientPublicKey) => {\n    wrappeds.push(wrapEvent(event, senderPrivateKey, recipientPublicKey));\n  });\n  return wrappeds;\n}\nfunction unwrapEvent(wrap, recipientPrivateKey) {\n  const unwrappedSeal = nip44Decrypt(wrap, recipientPrivateKey);\n  return nip44Decrypt(unwrappedSeal, recipientPrivateKey);\n}\nfunction unwrapManyEvents(wrappedEvents, recipientPrivateKey) {\n  let unwrappedEvents = [];\n  wrappedEvents.forEach((e) => {\n    unwrappedEvents.push(unwrapEvent(e, recipientPrivateKey));\n  });\n  unwrappedEvents.sort((a, b) => a.created_at - b.created_at);\n  return unwrappedEvents;\n}\n\n// nip17.ts\nfunction createEvent(recipients, message, conversationTitle, replyTo) {\n  const baseEvent = {\n    created_at: Math.ceil(Date.now() / 1e3),\n    kind: PrivateDirectMessage,\n    tags: [],\n    content: message\n  };\n  const recipientsArray = Array.isArray(recipients) ? recipients : [recipients];\n  recipientsArray.forEach(({ publicKey, relayUrl }) => {\n    baseEvent.tags.push(relayUrl ? [\"p\", publicKey, relayUrl] : [\"p\", publicKey]);\n  });\n  if (replyTo) {\n    baseEvent.tags.push([\"e\", replyTo.eventId, replyTo.relayUrl || \"\", \"reply\"]);\n  }\n  if (conversationTitle) {\n    baseEvent.tags.push([\"subject\", conversationTitle]);\n  }\n  return baseEvent;\n}\nfunction wrapEvent2(senderPrivateKey, recipient, message, conversationTitle, replyTo) {\n  const event = createEvent(recipient, message, conversationTitle, replyTo);\n  return wrapEvent(event, senderPrivateKey, recipient.publicKey);\n}\nfunction wrapManyEvents2(senderPrivateKey, recipients, message, conversationTitle, replyTo) {\n  if (!recipients || recipients.length === 0) {\n    throw new Error(\"At least one recipient is required.\");\n  }\n  const senderPublicKey = getPublicKey(senderPrivateKey);\n  return [{ publicKey: senderPublicKey }, ...recipients].map(\n    (recipient) => wrapEvent2(senderPrivateKey, recipient, message, conversationTitle, replyTo)\n  );\n}\nvar unwrapEvent2 = unwrapEvent;\nvar unwrapManyEvents2 = unwrapManyEvents;\n\n// nip18.ts\nvar nip18_exports = {};\n__export(nip18_exports, {\n  finishRepostEvent: () => finishRepostEvent,\n  getRepostedEvent: () => getRepostedEvent,\n  getRepostedEventPointer: () => getRepostedEventPointer\n});\nfunction finishRepostEvent(t, reposted, relayUrl, privateKey) {\n  let kind;\n  const tags = [...t.tags ?? [], [\"e\", reposted.id, relayUrl], [\"p\", reposted.pubkey]];\n  if (reposted.kind === ShortTextNote) {\n    kind = Repost;\n  } else {\n    kind = GenericRepost;\n    tags.push([\"k\", String(reposted.kind)]);\n  }\n  return finalizeEvent(\n    {\n      kind,\n      tags,\n      content: t.content === \"\" || reposted.tags?.find((tag) => tag[0] === \"-\") ? \"\" : JSON.stringify(reposted),\n      created_at: t.created_at\n    },\n    privateKey\n  );\n}\nfunction getRepostedEventPointer(event) {\n  if (![Repost, GenericRepost].includes(event.kind)) {\n    return void 0;\n  }\n  let lastETag;\n  let lastPTag;\n  for (let i2 = event.tags.length - 1; i2 >= 0 && (lastETag === void 0 || lastPTag === void 0); i2--) {\n    const tag = event.tags[i2];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], lastPTag?.[2]].filter((x) => typeof x === \"string\"),\n    author: lastPTag?.[1]\n  };\n}\nfunction getRepostedEvent(event, { skipVerification } = {}) {\n  const pointer = getRepostedEventPointer(event);\n  if (pointer === void 0 || event.content === \"\") {\n    return void 0;\n  }\n  let repostedEvent;\n  try {\n    repostedEvent = JSON.parse(event.content);\n  } catch (error) {\n    return void 0;\n  }\n  if (repostedEvent.id !== pointer.id) {\n    return void 0;\n  }\n  if (!skipVerification && !verifyEvent(repostedEvent)) {\n    return void 0;\n  }\n  return repostedEvent;\n}\n\n// nip21.ts\nvar nip21_exports = {};\n__export(nip21_exports, {\n  NOSTR_URI_REGEX: () => NOSTR_URI_REGEX,\n  parse: () => parse2,\n  test: () => test\n});\nvar NOSTR_URI_REGEX = new RegExp(`nostr:(${BECH32_REGEX.source})`);\nfunction test(value) {\n  return typeof value === \"string\" && new RegExp(`^${NOSTR_URI_REGEX.source}$`).test(value);\n}\nfunction parse2(uri) {\n  const match = uri.match(new RegExp(`^${NOSTR_URI_REGEX.source}$`));\n  if (!match)\n    throw new Error(`Invalid Nostr URI: ${uri}`);\n  return {\n    uri: match[0],\n    value: match[1],\n    decoded: decode(match[1])\n  };\n}\n\n// nip25.ts\nvar nip25_exports = {};\n__export(nip25_exports, {\n  finishReactionEvent: () => finishReactionEvent,\n  getReactedEventPointer: () => getReactedEventPointer\n});\nfunction finishReactionEvent(t, reacted, privateKey) {\n  const inheritedTags = reacted.tags.filter((tag) => tag.length >= 2 && (tag[0] === \"e\" || tag[0] === \"p\"));\n  return finalizeEvent(\n    {\n      ...t,\n      kind: Reaction,\n      tags: [...t.tags ?? [], ...inheritedTags, [\"e\", reacted.id], [\"p\", reacted.pubkey]],\n      content: t.content ?? \"+\"\n    },\n    privateKey\n  );\n}\nfunction getReactedEventPointer(event) {\n  if (event.kind !== Reaction) {\n    return void 0;\n  }\n  let lastETag;\n  let lastPTag;\n  for (let i2 = event.tags.length - 1; i2 >= 0 && (lastETag === void 0 || lastPTag === void 0); i2--) {\n    const tag = event.tags[i2];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0 || lastPTag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], lastPTag[2]].filter((x) => x !== void 0),\n    author: lastPTag[1]\n  };\n}\n\n// nip27.ts\nvar nip27_exports = {};\n__export(nip27_exports, {\n  parse: () => parse3\n});\nvar noCharacter = /\\W/m;\nvar noURLCharacter = /\\W |\\W$|$|,| /m;\nfunction* parse3(content) {\n  const max = content.length;\n  let prevIndex = 0;\n  let index = 0;\n  while (index < max) {\n    let u = content.indexOf(\":\", index);\n    if (u === -1) {\n      break;\n    }\n    if (content.substring(u - 5, u) === \"nostr\") {\n      const m = content.substring(u + 60).match(noCharacter);\n      const end = m ? u + 60 + m.index : max;\n      try {\n        let pointer;\n        let { data, type } = decode(content.substring(u + 1, end));\n        switch (type) {\n          case \"npub\":\n            pointer = { pubkey: data };\n            break;\n          case \"nsec\":\n          case \"note\":\n            index = end + 1;\n            continue;\n          default:\n            pointer = data;\n        }\n        if (prevIndex !== u - 5) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - 5) };\n        }\n        yield { type: \"reference\", pointer };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = u + 1;\n        continue;\n      }\n    } else if (content.substring(u - 5, u) === \"https\" || content.substring(u - 4, u) === \"http\") {\n      const m = content.substring(u + 4).match(noURLCharacter);\n      const end = m ? u + 4 + m.index : max;\n      const prefixLen = content[u - 1] === \"s\" ? 5 : 4;\n      try {\n        let url = new URL(content.substring(u - prefixLen, end));\n        if (url.hostname.indexOf(\".\") === -1) {\n          throw new Error(\"invalid url\");\n        }\n        if (prevIndex !== u - prefixLen) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - prefixLen) };\n        }\n        if (url.pathname.endsWith(\".png\") || url.pathname.endsWith(\".jpg\") || url.pathname.endsWith(\".jpeg\") || url.pathname.endsWith(\".gif\") || url.pathname.endsWith(\".webp\")) {\n          yield { type: \"image\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        if (url.pathname.endsWith(\".mp4\") || url.pathname.endsWith(\".avi\") || url.pathname.endsWith(\".webm\") || url.pathname.endsWith(\".mkv\")) {\n          yield { type: \"video\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        if (url.pathname.endsWith(\".mp3\") || url.pathname.endsWith(\".aac\") || url.pathname.endsWith(\".ogg\") || url.pathname.endsWith(\".opus\")) {\n          yield { type: \"audio\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        yield { type: \"url\", url: url.toString() };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = end + 1;\n        continue;\n      }\n    } else if (content.substring(u - 3, u) === \"wss\" || content.substring(u - 2, u) === \"ws\") {\n      const m = content.substring(u + 4).match(noURLCharacter);\n      const end = m ? u + 4 + m.index : max;\n      const prefixLen = content[u - 1] === \"s\" ? 3 : 2;\n      try {\n        let url = new URL(content.substring(u - prefixLen, end));\n        if (url.hostname.indexOf(\".\") === -1) {\n          throw new Error(\"invalid ws url\");\n        }\n        if (prevIndex !== u - prefixLen) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - prefixLen) };\n        }\n        yield { type: \"relay\", url: url.toString() };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = end + 1;\n        continue;\n      }\n    } else {\n      index = u + 1;\n      continue;\n    }\n  }\n  if (prevIndex !== max) {\n    yield { type: \"text\", text: content.substring(prevIndex) };\n  }\n}\n\n// nip28.ts\nvar nip28_exports = {};\n__export(nip28_exports, {\n  channelCreateEvent: () => channelCreateEvent,\n  channelHideMessageEvent: () => channelHideMessageEvent,\n  channelMessageEvent: () => channelMessageEvent,\n  channelMetadataEvent: () => channelMetadataEvent,\n  channelMuteUserEvent: () => channelMuteUserEvent\n});\nvar channelCreateEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelCreation,\n      tags: [...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMetadataEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMetadata,\n      tags: [[\"e\", t.channel_create_event_id], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMessageEvent = (t, privateKey) => {\n  const tags = [[\"e\", t.channel_create_event_id, t.relay_url, \"root\"]];\n  if (t.reply_to_channel_message_event_id) {\n    tags.push([\"e\", t.reply_to_channel_message_event_id, t.relay_url, \"reply\"]);\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMessage,\n      tags: [...tags, ...t.tags ?? []],\n      content: t.content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelHideMessageEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelHideMessage,\n      tags: [[\"e\", t.channel_message_event_id], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMuteUserEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMuteUser,\n      tags: [[\"p\", t.pubkey_to_mute], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\n\n// nip30.ts\nvar nip30_exports = {};\n__export(nip30_exports, {\n  EMOJI_SHORTCODE_REGEX: () => EMOJI_SHORTCODE_REGEX,\n  matchAll: () => matchAll,\n  regex: () => regex,\n  replaceAll: () => replaceAll\n});\nvar EMOJI_SHORTCODE_REGEX = /:(\\w+):/;\nvar regex = () => new RegExp(`\\\\B${EMOJI_SHORTCODE_REGEX.source}\\\\B`, \"g\");\nfunction* matchAll(content) {\n  const matches = content.matchAll(regex());\n  for (const match of matches) {\n    try {\n      const [shortcode, name] = match;\n      yield {\n        shortcode,\n        name,\n        start: match.index,\n        end: match.index + shortcode.length\n      };\n    } catch (_e) {\n    }\n  }\n}\nfunction replaceAll(content, replacer) {\n  return content.replaceAll(regex(), (shortcode, name) => {\n    return replacer({\n      shortcode,\n      name\n    });\n  });\n}\n\n// nip39.ts\nvar nip39_exports = {};\n__export(nip39_exports, {\n  useFetchImplementation: () => useFetchImplementation3,\n  validateGithub: () => validateGithub\n});\nvar _fetch3;\ntry {\n  _fetch3 = fetch;\n} catch {\n}\nfunction useFetchImplementation3(fetchImplementation) {\n  _fetch3 = fetchImplementation;\n}\nasync function validateGithub(pubkey, username, proof) {\n  try {\n    let res = await (await _fetch3(`https://gist.github.com/${username}/${proof}/raw`)).text();\n    return res === `Verifying that I control the following Nostr public key: ${pubkey}`;\n  } catch (_) {\n    return false;\n  }\n}\n\n// nip47.ts\nvar nip47_exports = {};\n__export(nip47_exports, {\n  makeNwcRequestEvent: () => makeNwcRequestEvent,\n  parseConnectionString: () => parseConnectionString\n});\nfunction parseConnectionString(connectionString) {\n  const { pathname, searchParams } = new URL(connectionString);\n  const pubkey = pathname;\n  const relay = searchParams.get(\"relay\");\n  const secret = searchParams.get(\"secret\");\n  if (!pubkey || !relay || !secret) {\n    throw new Error(\"invalid connection string\");\n  }\n  return { pubkey, relay, secret };\n}\nasync function makeNwcRequestEvent(pubkey, secretKey, invoice) {\n  const content = {\n    method: \"pay_invoice\",\n    params: {\n      invoice\n    }\n  };\n  const encryptedContent = encrypt(secretKey, pubkey, JSON.stringify(content));\n  const eventTemplate = {\n    kind: NWCWalletRequest,\n    created_at: Math.round(Date.now() / 1e3),\n    content: encryptedContent,\n    tags: [[\"p\", pubkey]]\n  };\n  return finalizeEvent(eventTemplate, secretKey);\n}\n\n// nip54.ts\nvar nip54_exports = {};\n__export(nip54_exports, {\n  normalizeIdentifier: () => normalizeIdentifier\n});\nfunction normalizeIdentifier(name) {\n  name = name.trim().toLowerCase();\n  name = name.normalize(\"NFKC\");\n  return Array.from(name).map((char) => {\n    if (/\\p{Letter}/u.test(char) || /\\p{Number}/u.test(char)) {\n      return char;\n    }\n    return \"-\";\n  }).join(\"\");\n}\n\n// nip57.ts\nvar nip57_exports = {};\n__export(nip57_exports, {\n  getSatoshisAmountFromBolt11: () => getSatoshisAmountFromBolt11,\n  getZapEndpoint: () => getZapEndpoint,\n  makeZapReceipt: () => makeZapReceipt,\n  makeZapRequest: () => makeZapRequest,\n  useFetchImplementation: () => useFetchImplementation4,\n  validateZapRequest: () => validateZapRequest\n});\nimport { bech32 as bech322 } from \"@scure/base\";\nvar _fetch4;\ntry {\n  _fetch4 = fetch;\n} catch {\n}\nfunction useFetchImplementation4(fetchImplementation) {\n  _fetch4 = fetchImplementation;\n}\nasync function getZapEndpoint(metadata) {\n  try {\n    let lnurl = \"\";\n    let { lud06, lud16 } = JSON.parse(metadata.content);\n    if (lud06) {\n      let { words } = bech322.decode(lud06, 1e3);\n      let data = bech322.fromWords(words);\n      lnurl = utf8Decoder.decode(data);\n    } else if (lud16) {\n      let [name, domain] = lud16.split(\"@\");\n      lnurl = new URL(`/.well-known/lnurlp/${name}`, `https://${domain}`).toString();\n    } else {\n      return null;\n    }\n    let res = await _fetch4(lnurl);\n    let body = await res.json();\n    if (body.allowsNostr && body.nostrPubkey) {\n      return body.callback;\n    }\n  } catch (err) {\n  }\n  return null;\n}\nfunction makeZapRequest({\n  profile,\n  event,\n  amount,\n  relays,\n  comment = \"\"\n}) {\n  if (!amount)\n    throw new Error(\"amount not given\");\n  if (!profile)\n    throw new Error(\"profile not given\");\n  let zr = {\n    kind: 9734,\n    created_at: Math.round(Date.now() / 1e3),\n    content: comment,\n    tags: [\n      [\"p\", profile],\n      [\"amount\", amount.toString()],\n      [\"relays\", ...relays]\n    ]\n  };\n  if (event && typeof event === \"string\") {\n    zr.tags.push([\"e\", event]);\n  }\n  if (event && typeof event === \"object\") {\n    if (isReplaceableKind(event.kind)) {\n      const a = [\"a\", `${event.kind}:${event.pubkey}:`];\n      zr.tags.push(a);\n    } else if (isAddressableKind(event.kind)) {\n      let d = event.tags.find(([t, v]) => t === \"d\" && v);\n      if (!d)\n        throw new Error(\"d tag not found or is empty\");\n      const a = [\"a\", `${event.kind}:${event.pubkey}:${d[1]}`];\n      zr.tags.push(a);\n    }\n  }\n  return zr;\n}\nfunction validateZapRequest(zapRequestString) {\n  let zapRequest;\n  try {\n    zapRequest = JSON.parse(zapRequestString);\n  } catch (err) {\n    return \"Invalid zap request JSON.\";\n  }\n  if (!validateEvent(zapRequest))\n    return \"Zap request is not a valid Nostr event.\";\n  if (!verifyEvent(zapRequest))\n    return \"Invalid signature on zap request.\";\n  let p = zapRequest.tags.find(([t, v]) => t === \"p\" && v);\n  if (!p)\n    return \"Zap request doesn't have a 'p' tag.\";\n  if (!p[1].match(/^[a-f0-9]{64}$/))\n    return \"Zap request 'p' tag is not valid hex.\";\n  let e = zapRequest.tags.find(([t, v]) => t === \"e\" && v);\n  if (e && !e[1].match(/^[a-f0-9]{64}$/))\n    return \"Zap request 'e' tag is not valid hex.\";\n  let relays = zapRequest.tags.find(([t, v]) => t === \"relays\" && v);\n  if (!relays)\n    return \"Zap request doesn't have a 'relays' tag.\";\n  return null;\n}\nfunction makeZapReceipt({\n  zapRequest,\n  preimage,\n  bolt11,\n  paidAt\n}) {\n  let zr = JSON.parse(zapRequest);\n  let tagsFromZapRequest = zr.tags.filter(([t]) => t === \"e\" || t === \"p\" || t === \"a\");\n  let zap = {\n    kind: 9735,\n    created_at: Math.round(paidAt.getTime() / 1e3),\n    content: \"\",\n    tags: [...tagsFromZapRequest, [\"P\", zr.pubkey], [\"bolt11\", bolt11], [\"description\", zapRequest]]\n  };\n  if (preimage) {\n    zap.tags.push([\"preimage\", preimage]);\n  }\n  return zap;\n}\nfunction getSatoshisAmountFromBolt11(bolt11) {\n  if (bolt11.length < 50) {\n    return 0;\n  }\n  bolt11 = bolt11.substring(0, 50);\n  const idx = bolt11.lastIndexOf(\"1\");\n  if (idx === -1) {\n    return 0;\n  }\n  const hrp = bolt11.substring(0, idx);\n  if (!hrp.startsWith(\"lnbc\")) {\n    return 0;\n  }\n  const amount = hrp.substring(4);\n  if (amount.length < 1) {\n    return 0;\n  }\n  const char = amount[amount.length - 1];\n  const digit = char.charCodeAt(0) - \"0\".charCodeAt(0);\n  const isDigit = digit >= 0 && digit <= 9;\n  let cutPoint = amount.length - 1;\n  if (isDigit) {\n    cutPoint++;\n  }\n  if (cutPoint < 1) {\n    return 0;\n  }\n  const num = parseInt(amount.substring(0, cutPoint));\n  switch (char) {\n    case \"m\":\n      return num * 1e5;\n    case \"u\":\n      return num * 100;\n    case \"n\":\n      return num / 10;\n    case \"p\":\n      return num / 1e4;\n    default:\n      return num * 1e8;\n  }\n}\n\n// nip98.ts\nvar nip98_exports = {};\n__export(nip98_exports, {\n  getToken: () => getToken,\n  hashPayload: () => hashPayload,\n  unpackEventFromToken: () => unpackEventFromToken,\n  validateEvent: () => validateEvent2,\n  validateEventKind: () => validateEventKind,\n  validateEventMethodTag: () => validateEventMethodTag,\n  validateEventPayloadTag: () => validateEventPayloadTag,\n  validateEventTimestamp: () => validateEventTimestamp,\n  validateEventUrlTag: () => validateEventUrlTag,\n  validateToken: () => validateToken\n});\nimport { sha256 as sha2564 } from \"@noble/hashes/sha256\";\nimport { bytesToHex as bytesToHex6 } from \"@noble/hashes/utils\";\nimport { base64 as base643 } from \"@scure/base\";\nvar _authorizationScheme = \"Nostr \";\nasync function getToken(loginUrl, httpMethod, sign, includeAuthorizationScheme = false, payload) {\n  const event = {\n    kind: HTTPAuth,\n    tags: [\n      [\"u\", loginUrl],\n      [\"method\", httpMethod]\n    ],\n    created_at: Math.round(new Date().getTime() / 1e3),\n    content: \"\"\n  };\n  if (payload) {\n    event.tags.push([\"payload\", hashPayload(payload)]);\n  }\n  const signedEvent = await sign(event);\n  const authorizationScheme = includeAuthorizationScheme ? _authorizationScheme : \"\";\n  return authorizationScheme + base643.encode(utf8Encoder.encode(JSON.stringify(signedEvent)));\n}\nasync function validateToken(token, url, method) {\n  const event = await unpackEventFromToken(token).catch((error) => {\n    throw error;\n  });\n  const valid = await validateEvent2(event, url, method).catch((error) => {\n    throw error;\n  });\n  return valid;\n}\nasync function unpackEventFromToken(token) {\n  if (!token) {\n    throw new Error(\"Missing token\");\n  }\n  token = token.replace(_authorizationScheme, \"\");\n  const eventB64 = utf8Decoder.decode(base643.decode(token));\n  if (!eventB64 || eventB64.length === 0 || !eventB64.startsWith(\"{\")) {\n    throw new Error(\"Invalid token\");\n  }\n  const event = JSON.parse(eventB64);\n  return event;\n}\nfunction validateEventTimestamp(event) {\n  if (!event.created_at) {\n    return false;\n  }\n  return Math.round(new Date().getTime() / 1e3) - event.created_at < 60;\n}\nfunction validateEventKind(event) {\n  return event.kind === HTTPAuth;\n}\nfunction validateEventUrlTag(event, url) {\n  const urlTag = event.tags.find((t) => t[0] === \"u\");\n  if (!urlTag) {\n    return false;\n  }\n  return urlTag.length > 0 && urlTag[1] === url;\n}\nfunction validateEventMethodTag(event, method) {\n  const methodTag = event.tags.find((t) => t[0] === \"method\");\n  if (!methodTag) {\n    return false;\n  }\n  return methodTag.length > 0 && methodTag[1].toLowerCase() === method.toLowerCase();\n}\nfunction hashPayload(payload) {\n  const hash = sha2564(utf8Encoder.encode(JSON.stringify(payload)));\n  return bytesToHex6(hash);\n}\nfunction validateEventPayloadTag(event, payload) {\n  const payloadTag = event.tags.find((t) => t[0] === \"payload\");\n  if (!payloadTag) {\n    return false;\n  }\n  const payloadHash = hashPayload(payload);\n  return payloadTag.length > 0 && payloadTag[1] === payloadHash;\n}\nasync function validateEvent2(event, url, method, body) {\n  if (!verifyEvent(event)) {\n    throw new Error(\"Invalid nostr event, signature invalid\");\n  }\n  if (!validateEventKind(event)) {\n    throw new Error(\"Invalid nostr event, kind invalid\");\n  }\n  if (!validateEventTimestamp(event)) {\n    throw new Error(\"Invalid nostr event, created_at timestamp invalid\");\n  }\n  if (!validateEventUrlTag(event, url)) {\n    throw new Error(\"Invalid nostr event, url tag invalid\");\n  }\n  if (!validateEventMethodTag(event, method)) {\n    throw new Error(\"Invalid nostr event, method tag invalid\");\n  }\n  if (Boolean(body) && typeof body === \"object\" && Object.keys(body).length > 0) {\n    if (!validateEventPayloadTag(event, body)) {\n      throw new Error(\"Invalid nostr event, payload tag does not match request body hash\");\n    }\n  }\n  return true;\n}\nexport {\n  Relay,\n  SimplePool,\n  finalizeEvent,\n  fakejson_exports as fj,\n  generateSecretKey,\n  getEventHash,\n  getFilterLimit,\n  getPublicKey,\n  kinds_exports as kinds,\n  matchFilter,\n  matchFilters,\n  mergeFilters,\n  nip04_exports as nip04,\n  nip05_exports as nip05,\n  nip10_exports as nip10,\n  nip11_exports as nip11,\n  nip13_exports as nip13,\n  nip17_exports as nip17,\n  nip18_exports as nip18,\n  nip19_exports as nip19,\n  nip21_exports as nip21,\n  nip25_exports as nip25,\n  nip27_exports as nip27,\n  nip28_exports as nip28,\n  nip30_exports as nip30,\n  nip39_exports as nip39,\n  nip42_exports as nip42,\n  nip44_exports as nip44,\n  nip47_exports as nip47,\n  nip54_exports as nip54,\n  nip57_exports as nip57,\n  nip59_exports as nip59,\n  nip98_exports as nip98,\n  parseReferences,\n  serializeEvent,\n  sortEvents,\n  utils_exports as utils,\n  validateEvent,\n  verifiedSymbol,\n  verifyEvent\n};\n", "var e,t,r=(e=function(e,t){function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function n(...e){const t=(e,t)=>r=>e(t(r));return{encode:Array.from(e).reverse().reduce((e,r)=>e?t(e,r.encode):r.encode,void 0),decode:e.reduce((e,r)=>e?t(e,r.decode):r.decode,void 0)}}function o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"alphabet.encode input should be an array of numbers\");return t.map(t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"alphabet.decode input should be array of strings\");return t.map(t=>{if(\"string\"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return r})}}}function s(e=\"\"){if(\"string\"!=typeof e)throw new Error(\"join separator should be string\");return{encode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"join.encode input should be array of strings\");for(let e of t)if(\"string\"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if(\"string\"!=typeof t)throw new Error(\"join.decode input should be string\");return t.split(e)}}}function i(e,t=\"=\"){if(r(e),\"string\"!=typeof t)throw new Error(\"padding chr should be string\");return{encode(r){if(!Array.isArray(r)||r.length&&\"string\"!=typeof r[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of r)if(\"string\"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&\"string\"!=typeof r[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of r)if(\"string\"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error(\"Invalid padding: string should have whole number of bytes\");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error(\"Invalid padding: string has too much padding\");return r.slice(0,n)}}}function a(e){if(\"function\"!=typeof e)throw new Error(\"normalize fn should be function\");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error(\"convertRadix: data should be array\");if(!e.length)return[];let o=0;const s=[],i=Array.from(e);for(i.forEach(e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)});;){let e=0,r=!0;for(let s=o;s<i.length;s++){const a=i[s],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error(\"convertRadix: carry overflow\");if(e=c%n,i[s]=Math.floor(c/n),!Number.isSafeInteger(i[s])||i[s]*n+e!==c)throw new Error(\"convertRadix: carry overflow\");r&&(i[s]?r=!1:o=s)}if(s.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)s.push(0);return s.reverse()}Object.defineProperty(t,\"__esModule\",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=r;const h=(e,t)=>t?h(t,e%t):e,l=(e,t)=>e+(t-h(e,t));function u(e,t,n,o){if(!Array.isArray(e))throw new Error(\"convertRadix2: data should be array\");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(l(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${l(t,n)}`);let s=0,i=0;const a=2**n-1,c=[];for(const o of e){if(r(o),o>=2**t)throw new Error(`convertRadix2: invalid data word=${o} from=${t}`);if(s=s<<t|o,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((s>>i-n&a)>>>0);s&=2**i-1}if(s=s<<n-i&a,!o&&i>=t)throw new Error(\"Excess padding\");if(!o&&s)throw new Error(`Non-zero padding: ${s}`);return o&&i>0&&c.push(s>>>0),c}function f(e){return r(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error(\"radix.encode input should be Uint8Array\");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"radix.decode input should be array of strings\");return Uint8Array.from(c(t,e,256))}}}function d(e,t=!1){if(r(e),e<=0||e>32)throw new Error(\"radix2: bits should be in (0..32]\");if(l(8,e)>32||l(e,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error(\"radix2.encode input should be Uint8Array\");return u(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&\"number\"!=typeof r[0])throw new Error(\"radix2.decode input should be array of strings\");return Uint8Array.from(u(r,e,8,t))}}}function p(e){if(\"function\"!=typeof e)throw new Error(\"unsafeWrapper fn should be function\");return function(...t){try{return e.apply(null,t)}catch(e){}}}function w(e,t){if(r(e),\"function\"!=typeof t)throw new Error(\"checksum fn should be function\");return{encode(r){if(!(r instanceof Uint8Array))throw new Error(\"checksum.encode: input should be Uint8Array\");const n=t(r).slice(0,e),o=new Uint8Array(r.length+e);return o.set(r),o.set(n,r.length),o},decode(r){if(!(r instanceof Uint8Array))throw new Error(\"checksum.decode: input should be Uint8Array\");const n=r.slice(0,-e),o=t(n).slice(0,e),s=r.slice(-e);for(let t=0;t<e;t++)if(o[t]!==s[t])throw new Error(\"Invalid checksum\");return n}}}t.utils={alphabet:o,chain:n,checksum:w,radix:f,radix2:d,join:s,padding:i},t.base16=n(d(4),o(\"0123456789ABCDEF\"),s(\"\")),t.base32=n(d(5),o(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\"),i(5),s(\"\")),t.base32hex=n(d(5),o(\"0123456789ABCDEFGHIJKLMNOPQRSTUV\"),i(5),s(\"\")),t.base32crockford=n(d(5),o(\"0123456789ABCDEFGHJKMNPQRSTVWXYZ\"),s(\"\"),a(e=>e.toUpperCase().replace(/O/g,\"0\").replace(/[IL]/g,\"1\"))),t.base64=n(d(6),o(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"),i(6),s(\"\")),t.base64url=n(d(6),o(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),i(6),s(\"\"));const y=e=>n(f(58),o(e),s(\"\"));t.base58=y(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"),t.base58flickr=y(\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"),t.base58xrp=y(\"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz\");const m=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r=\"\";for(let n=0;n<e.length;n+=8){const o=e.subarray(n,n+8);r+=t.base58.encode(o).padStart(m[o.length],\"1\")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){const o=e.slice(n,n+11),s=m.indexOf(o.length),i=t.base58.decode(o);for(let e=0;e<i.length-s;e++)if(0!==i[e])throw new Error(\"base58xmr: wrong padding\");r=r.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(r)}},t.base58check=e=>n(w(4,t=>e(e(t))),t.base58);const g=n(o(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),s(\"\")),b=[996825010,642813549,513874426,1027748829,705979059];function v(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<b.length;e++)1==(t>>e&1)&&(r^=b[e]);return r}function E(e,t,r=1){const n=e.length;let o=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);o=v(o)^r>>5}o=v(o);for(let t=0;t<n;t++)o=v(o)^31&e.charCodeAt(t);for(let e of t)o=v(o)^e;for(let e=0;e<6;e++)o=v(o);return o^=r,g.encode(u([o%2**30],30,5,!1))}function x(e){const t=\"bech32\"===e?1:734539939,r=d(5),n=r.decode,o=r.encode,s=p(n);function i(e,r=90){if(\"string\"!=typeof e)throw new Error(\"bech32.decode input should be string, not \"+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error(\"String must be lowercase or uppercase\");const o=(e=n).lastIndexOf(\"1\");if(0===o||-1===o)throw new Error('Letter \"1\" must be present between prefix and data only');const s=e.slice(0,o),i=e.slice(o+1);if(i.length<6)throw new Error(\"Data must be at least 6 characters long\");const a=g.decode(i).slice(0,-6),c=E(s,a,t);if(!i.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected \"${c}\"`);return{prefix:s,words:a}}return{encode:function(e,r,n=90){if(\"string\"!=typeof e)throw new Error(\"bech32.encode prefix should be string, not \"+typeof e);if(!Array.isArray(r)||r.length&&\"number\"!=typeof r[0])throw new Error(\"bech32.encode words should be array of numbers, not \"+typeof r);const o=e.length+7+r.length;if(!1!==n&&o>n)throw new TypeError(`Length ${o} exceeds limit ${n}`);return`${e=e.toLowerCase()}1${g.encode(r)}${E(e,r,t)}`},decode:i,decodeToBytes:function(e){const{prefix:t,words:r}=i(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:p(i),fromWords:n,fromWordsUnsafe:s,toWords:o}}t.bech32=x(\"bech32\"),t.bech32m=x(\"bech32m\"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=n(d(4),o(\"0123456789abcdef\"),s(\"\"),a(e=>{if(\"string\"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const A={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},k=`Invalid encoding type. Available types: ${Object.keys(A).join(\", \")}`;t.bytesToString=(e,t)=>{if(\"string\"!=typeof e||!A.hasOwnProperty(e))throw new TypeError(k);if(!(t instanceof Uint8Array))throw new TypeError(\"bytesToString() expects Uint8Array\");return A[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!A.hasOwnProperty(e))throw new TypeError(k);if(\"string\"!=typeof t)throw new TypeError(\"stringToBytes() expects string\");return A[e].decode(t)},t.bytes=t.stringToBytes},e(t={exports:{}},t.exports),t.exports);const{bech32:n,hex:o,utf8:s}=r,i={bech32:\"bc\",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},a={bech32:\"tb\",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},c={bech32:\"tbs\",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},h={bech32:\"bcrt\",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},l={bech32:\"sb\",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},u=[\"option_data_loss_protect\",\"initial_routing_sync\",\"option_upfront_shutdown_script\",\"gossip_queries\",\"var_onion_optin\",\"gossip_queries_ex\",\"option_static_remotekey\",\"payment_secret\",\"basic_mpp\",\"option_support_large_channel\"],f={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},d=BigInt(\"2100000000000000000\"),p=BigInt(1e11),w={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},y={};for(let e=0,t=Object.keys(w);e<t.length;e++){const r=t[e],n=w[t[e]].toString();y[n]=r}const m={1:e=>o.encode(n.fromWordsUnsafe(e)),16:e=>o.encode(n.fromWordsUnsafe(e)),13:e=>s.encode(n.fromWordsUnsafe(e)),19:e=>o.encode(n.fromWordsUnsafe(e)),23:e=>o.encode(n.fromWordsUnsafe(e)),27:e=>o.encode(n.fromWordsUnsafe(e)),6:b,24:b,3:function(e){const t=[];let r,s,i,a,c,h=n.fromWordsUnsafe(e);for(;h.length>0;)r=o.encode(h.slice(0,33)),s=o.encode(h.slice(33,41)),i=parseInt(o.encode(h.slice(41,45)),16),a=parseInt(o.encode(h.slice(45,49)),16),c=parseInt(o.encode(h.slice(49,51)),16),h=h.slice(51),t.push({pubkey:r,short_channel_id:s,fee_base_msat:i,fee_proportional_millionths:a,cltv_expiry_delta:c});return t},5:function(e){const t=e.slice().reverse().map(e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)]).reduce((e,t)=>e.concat(t),[]);for(;t.length<2*u.length;)t.push(!1);const r={};u.forEach((e,n)=>{let o;o=t[2*n]?\"required\":t[2*n+1]?\"supported\":\"unsupported\",r[e]=o});const n=t.slice(2*u.length);return r.extra_bits={start_bit:2*u.length,bits:n,has_required:n.reduce((e,t,r)=>r%2!=0?e||!1:e||t,!1)},r}};function g(e){return t=>({tagCode:parseInt(e),words:n.encode(\"unknown\",t,Number.MAX_SAFE_INTEGER)})}function b(e){return e.reverse().reduce((e,t,r)=>e+t*Math.pow(32,r),0)}const v=e=>Uint8Array.from(e.match(/.{1,2}/g).map(e=>parseInt(e,16))),E=e=>{if(!e)return null;try{const t=function(e,t){if(\"string\"!=typeof e)throw new Error(\"Lightning Payment Request must be string\");if(\"ln\"!==e.slice(0,2).toLowerCase())throw new Error(\"Not a proper lightning payment request\");const r=[],s=n.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const u=s.prefix;let v=s.words,E=e.slice(u.length+1),x=v.slice(-104);v=v.slice(0,-104);let A=u.match(/^ln(\\S+?)(\\d*)([a-zA-Z]?)$/);if(A&&!A[2]&&(A=u.match(/^ln(\\S+)$/)),!A)throw new Error(\"Not a proper lightning payment request\");r.push({name:\"lightning_network\",letters:\"ln\"});const k=A[1];let $;switch(k){case i.bech32:$=i;break;case a.bech32:$=a;break;case c.bech32:$=c;break;case h.bech32:$=h;break;case l.bech32:$=l}if(!$||$.bech32!==k)throw new Error(\"Unknown coin bech32 prefix\");r.push({name:\"coin_network\",letters:k,value:$});const _=A[2];let U;_?(U=function(e,t){let r,n;if(e.slice(-1).match(/^[munp]$/))r=e.slice(-1),n=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error(\"Not a valid multiplier for the amount\");n=e}if(!n.match(/^\\d+$/))throw new Error(\"Not a valid human readable amount\");const o=BigInt(n),s=r?o*p/f[r]:o*p;if(\"p\"===r&&o%BigInt(10)!==BigInt(0)||s>d)throw new Error(\"Amount is outside of valid range\");return s.toString()}(_+A[3]),r.push({name:\"amount\",letters:A[2]+A[3],value:U})):U=null,r.push({name:\"separator\",letters:\"1\"});const L=b(v.slice(0,7));let D,N,I,S;for(v=v.slice(7),r.push({name:\"timestamp\",letters:E.slice(0,7),value:L}),E=E.slice(7);v.length>0;){const e=v[0].toString();D=y[e]||\"unknown_tag\",N=m[e]||g(e),v=v.slice(1),I=b(v.slice(0,2)),v=v.slice(2),S=v.slice(0,I),v=v.slice(I),r.push({name:D,tag:E[0],letters:E.slice(0,3+I),value:N(S)}),E=E.slice(3+I)}r.push({name:\"signature\",letters:E.slice(0,104),value:o.encode(n.fromWordsUnsafe(x))}),E=E.slice(104),r.push({name:\"checksum\",letters:E});let R={paymentRequest:e,sections:r,get expiry(){let e=r.find(e=>\"expiry\"===e.name);if(e)return P(\"timestamp\")+e.value},get route_hints(){return r.filter(e=>\"route_hint\"===e.name).map(e=>e.value)}};for(let e in w)\"route_hint\"!==e&&Object.defineProperty(R,e,{get:()=>P(e)});return R;function P(e){let t=r.find(t=>t.name===e);return t?t.value:void 0}}(e);if(!t||!t.sections)return null;const r=t.sections.find(e=>\"payment_hash\"===e.name);if(\"payment_hash\"!==(null==r?void 0:r.name)||!r.value)return null;const s=r.value;let u=0;const v=t.sections.find(e=>\"amount\"===e.name);\"amount\"===(null==v?void 0:v.name)&&v.value&&(u=parseInt(v.value)/1e3);const E=t.sections.find(e=>\"timestamp\"===e.name);if(\"timestamp\"!==(null==E?void 0:E.name)||!E.value)return null;const x=E.value;let A;const k=t.sections.find(e=>\"expiry\"===e.name);\"expiry\"===(null==k?void 0:k.name)&&(A=k.value);const $=t.sections.find(e=>\"description\"===e.name);return{paymentHash:s,satoshi:u,timestamp:x,expiry:A,description:\"description\"===(null==$?void 0:$.name)?null==$?void 0:$.value:void 0}}catch(e){return null}};function x(e,t=!0){if(e.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&e.finished)throw new Error(\"Hash#digest() has already been called\")}const A=e=>e instanceof Uint8Array,k=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),$=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error(\"Non little-endian hardware is not supported\");const _=/* @__PURE__ */Array.from({length:256},(e,t)=>t.toString(16).padStart(2,\"0\"));function U(e){if(!A(e))throw new Error(\"Uint8Array expected\");let t=\"\";for(let r=0;r<e.length;r++)t+=_[e[r]];return t}function L(e){if(\"string\"==typeof e&&(e=function(e){if(\"string\"!=typeof e)throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!A(e))throw new Error(\"expected Uint8Array, got \"+typeof e);return e}class D{clone(){return this._cloneInto()}}function N(e){const t=t=>e().update(L(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}class I extends D{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=k(this.buffer)}update(e){x(this);const{view:t,buffer:r,blockLen:n}=this,o=(e=L(e)).length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);if(i!==n)r.set(e.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=k(e);for(;n<=o-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){x(this),function(e,t){!function(e,...t){if(!(e instanceof Uint8Array))throw new Error(\"Expected Uint8Array\");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:o}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if(\"function\"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),a=Number(r&s),c=n?0:4;e.setUint32(t+(n?4:0),i,n),e.setUint32(t+c,a,n)}(r,n-8,BigInt(8*this.length),o),this.process(r,0);const i=k(e),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const c=a/4,h=this.get();if(c>h.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let e=0;e<c;e++)i.setUint32(4*e,h[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:o,destroyed:s,pos:i}=this;return e.length=n,e.pos=i,e.finished=o,e.destroyed=s,n%t&&e.buffer.set(r),e}}const S=(e,t,r)=>e&t^e&r^t&r,R=/* @__PURE__ */new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),P=/* @__PURE__ */new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),T=/* @__PURE__ */new Uint32Array(64);class W extends I{constructor(){super(64,32,8,!1),this.A=0|P[0],this.B=0|P[1],this.C=0|P[2],this.D=0|P[3],this.E=0|P[4],this.F=0|P[5],this.G=0|P[6],this.H=0|P[7]}get(){const{A:e,B:t,C:r,D:n,E:o,F:s,G:i,H:a}=this;return[e,t,r,n,o,s,i,a]}set(e,t,r,n,o,s,i,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|s,this.G=0|i,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)T[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=T[e-15],r=T[e-2],n=$(t,7)^$(t,18)^t>>>3,o=$(r,17)^$(r,19)^r>>>10;T[e]=o+T[e-7]+n+T[e-16]|0}let{A:r,B:n,C:o,D:s,E:i,F:a,G:c,H:h}=this;for(let e=0;e<64;e++){const t=h+($(i,6)^$(i,11)^$(i,25))+((l=i)&a^~l&c)+R[e]+T[e]|0,u=($(r,2)^$(r,13)^$(r,22))+S(r,n,o)|0;h=c,c=a,a=i,i=s+t|0,s=o,o=n,n=r,r=t+u|0}var l;r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,s=s+this.D|0,i=i+this.E|0,a=a+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(r,n,o,s,i,a,c,h)}roundClean(){T.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const B=/* @__PURE__ */N(()=>new W);class j{constructor(e){var t,r,n,o;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=e.pr,!this.paymentRequest)throw new Error(\"Invalid payment request\");const s=E(this.paymentRequest);if(!s)throw new Error(\"Failed to decode payment request\");this.paymentHash=s.paymentHash,this.satoshi=s.satoshi,this.timestamp=s.timestamp,this.expiry=s.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=null!=(t=s.description)?t:null,this.verify=null!=(r=e.verify)?r:null,this.preimage=null!=(n=e.preimage)?n:null,this.successAction=null!=(o=e.successAction)?o:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error(\"Could not verify payment\")}validatePreimage(e){if(!e||!this.paymentHash)return!1;try{const t=U(B(v(e)));return this.paymentHash===t}catch(e){return!1}}async verifyPayment(){try{if(!this.verify)throw new Error(\"LNURL verify not available\");const e=await fetch(this.verify);if(!e.ok)throw new Error(`Verification request failed: ${e.status} ${e.statusText}`);const t=await e.json();return t.preimage&&(this.preimage=t.preimage),t.settled}catch(e){return console.error(\"Failed to check LNURL-verify\",e),!1}}hasExpired(){const{expiryDate:e}=this;return!!e&&e.getTime()<Date.now()}}const H=e=>{if(\"keysend\"!==e.tag)throw new Error(\"Invalid keysend params\");if(\"OK\"!==e.status)throw new Error(\"Keysend status not OK\");if(!e.pubkey)throw new Error(\"Pubkey does not exist\");let t,r;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,r=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:r}};async function O({satoshi:e,comment:t,p:r,e:n,relays:o},s={}){const i=s.nostr||globalThis.nostr;if(!i)throw new Error(\"nostr option or window.nostr is not available\");const a=[[\"relays\",...o],[\"amount\",e.toString()]];r&&a.push([\"p\",r]),n&&a.push([\"e\",n]);const c={pubkey:await i.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:a,content:null!=t?t:\"\"};return c.id=F(c),await i.signEvent(c)}function C(e){if(\"string\"!=typeof e.content)return!1;if(\"number\"!=typeof e.created_at)return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const r=e.tags[t];if(!Array.isArray(r))return!1;for(let e=0;e<r.length;e++)if(\"object\"==typeof r[e])return!1}return!0}function K(e){if(!C(e))throw new Error(\"can't serialize event with wrong or missing properties\");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function F(e){return U(B(K(e)))}function V(e,t){let r,n;var o,s;return t&&e&&(r=null==(o=e.names)?void 0:o[t],n=r?null==(s=e.relays)?void 0:s[r]:void 0),[e,r,n]}const q=/((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=+$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[+~%/.\\w-_]*)?\\??(?:[-+=&;%@.\\w_]*)#?(?:[\\w]*))?)/,z=e=>!!e&&q.test(e),M=({amount:e,min:t,max:r})=>e>0&&e>=t&&e<=r,G=async e=>{if(\"payRequest\"!==e.tag)throw new Error(\"Invalid pay service params\");const t=(e.callback+\"\").trim();if(!z(t))throw new Error(\"Callback must be a valid url\");const r=Math.ceil(Number(e.minSendable||0)),n=Math.floor(Number(e.maxSendable));if(!r||!n||r>n)throw new Error(\"Invalid pay service params\");let o,s;try{o=JSON.parse(e.metadata+\"\"),s=U(B(e.metadata+\"\"))}catch(e){o=[],s=U(B(\"[]\"))}let i=\"\",a=\"\",c=\"\",h=\"\";for(let e=0;e<o.length;e++){const[t,r]=o[e];switch(t){case\"text/plain\":c=r;break;case\"text/identifier\":h=r;break;case\"text/email\":i=r;break;case\"image/png;base64\":case\"image/jpeg;base64\":a=\"data:\"+t+\",\"+r}}const l=e.payerData;let u;try{u=new URL(t).hostname}catch(e){}return{callback:t,fixed:r===n,min:r,max:n,domain:u,metadata:o,metadataHash:s,identifier:h,email:i,description:c,image:a,payerData:l,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(this,arguments)}const Z=async(e,t)=>{const{boost:r}=e;t||(t={});const n=t.webln||globalThis.webln;if(!n)throw new Error(\"WebLN not available\");if(!n.keysend)throw new Error(\"Keysend not available in current WebLN provider\");const o=e.amount||Math.floor(r.value_msat/1e3),s={destination:e.destination,amount:o,customRecords:{7629169:JSON.stringify(r)}};return e.customKey&&e.customValue&&(s.customRecords[e.customKey]=e.customValue),await n.enable(),await n.keysend(s)},X=/^((?:[^<>()[\\]\\\\.,;:\\s@\"]+(?:\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(?:\".+\"))@((?:\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(?:(?:[a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,Q=\"https://api.getalby.com/lnurl\";class Y{constructor(e,t){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=e,this.options={proxy:\"https://api.getalby.com/lnurl\"},this.options=Object.assign(this.options,t),this.parse(),this.webln=this.options.webln}parse(){const e=X.exec(this.address.toLowerCase());e&&(this.username=e[1],this.domain=e[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const e=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!e.ok)throw new Error(`Failed to fetch lnurl info: ${e.status} ${e.statusText}`);const t=await e.json();await this.parseLnUrlPayResponse(t.lnurlp),this.parseKeysendResponse(t.keysend),this.parseNostrResponse(t.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const e=await fetch(this.lnurlpUrl());if(e.ok){const t=await e.json();await this.parseLnUrlPayResponse(t)}}async fetchKeysendData(){const e=await fetch(this.keysendUrl());if(e.ok){const t=await e.json();this.parseKeysendResponse(t)}}async fetchNostrData(){const e=await fetch(this.nostrUrl());if(e.ok){const t=await e.json();this.parseNostrResponse(t)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(e){let t;if(this.options.proxy){const r=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(J({ln:this.address},e)).toString()}`);if(!r.ok)throw new Error(`Failed to generate invoice: ${r.status} ${r.statusText}`);t=(await r.json()).invoice}else{if(!this.lnurlpData)throw new Error(\"No lnurlpData available. Please call fetch() first.\");if(!this.lnurlpData.callback||!z(this.lnurlpData.callback))throw new Error(\"Valid callback does not exist in lnurlpData\");const r=new URL(this.lnurlpData.callback);r.search=new URLSearchParams(e).toString();const n=await fetch(r.toString());if(!n.ok)throw new Error(`Failed to generate invoice: ${n.status} ${n.statusText}`);t=await n.json()}const r=t&&t.pr&&t.pr.toString();if(!r)throw new Error(\"Invalid pay service invoice\");const n={pr:r};if(t&&t.verify&&(n.verify=t.verify.toString()),t&&t.successAction&&\"object\"==typeof t.successAction){const{tag:e,message:r,description:o,url:s}=t.successAction;\"message\"===e?n.successAction={tag:e,message:r}:\"url\"===e&&(n.successAction={tag:e,description:o,url:s})}return new j(n)}async requestInvoice(e){if(!this.lnurlpData)throw new Error(\"No lnurlpData available. Please call fetch() first.\");const t=1e3*e.satoshi,{commentAllowed:r,min:n,max:o}=this.lnurlpData;if(!M({amount:t,min:n,max:o}))throw new Error(\"Invalid amount\");if(e.comment&&r&&r>0&&e.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const s={amount:t.toString()};return e.comment&&(s.comment=e.comment),e.payerdata&&(s.payerdata=JSON.stringify(e.payerdata)),this.generateInvoice(s)}async boost(e,t=0){if(!this.keysendData)throw new Error(\"No keysendData available. Please call fetch() first.\");const{destination:r,customKey:n,customValue:o}=this.keysendData,s=this.getWebLN();if(!s)throw new Error(\"WebLN not available\");return Z({destination:r,customKey:n,customValue:o,amount:t,boost:e},{webln:s})}async zapInvoice({satoshi:e,comment:t,relays:r,e:n},o={}){if(!this.lnurlpData)throw new Error(\"No lnurlpData available. Please call fetch() first.\");if(!this.nostrPubkey)throw new Error(\"Nostr Pubkey is missing\");const s=this.nostrPubkey,i=1e3*e,{allowsNostr:a,min:c,max:h}=this.lnurlpData;if(!M({amount:i,min:c,max:h}))throw new Error(\"Invalid amount\");if(!a)throw new Error(\"Your provider does not support zaps\");const l=await O({satoshi:i,comment:t,p:s,e:n,relays:r},o),u={amount:i.toString(),nostr:JSON.stringify(l)};return await this.generateInvoice(u)}async zap(e,t={}){const r=this.zapInvoice(e,t),n=this.getWebLN();if(!n)throw new Error(\"WebLN not available\");return await n.enable(),n.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(e){e&&(this.lnurlpData=await G(e))}parseKeysendResponse(e){e&&(this.keysendData=H(e))}parseNostrResponse(e){e&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=V(e,this.username))}}class ee{constructor(e){this.storage=void 0,this.storage=e||{}}getItem(e){return this.storage[e]}setItem(e,t){this.storage[e]=t}}class te{constructor(e){}getItem(e){return null}setItem(e,t){}}const re=e=>{const t=e.replace(\"L402\",\"\").replace(\"LSAT\",\"\").trim(),r={},n=/(\\w+)=(\"([^\"]*)\"|'([^']*)'|([^,]*))/g;let o;for(;null!==(o=n.exec(t));)r[o[1]]=o[3]||o[4]||o[5];return r},ne=new ee,oe=async(e,t,r)=>{r||(r={});const n=r.headerKey||\"L402\",o=r.webln||globalThis.webln;if(!o)throw new Error(\"WebLN is missing\");const s=r.store||ne;t||(t={}),t.cache=\"no-store\",t.mode=\"cors\",t.headers||(t.headers={});const i=s.getItem(e);if(i){const r=JSON.parse(i);return t.headers.Authorization=`${n} ${r.token}:${r.preimage}`,await fetch(e,t)}t.headers[\"Accept-Authenticate\"]=n;const a=await fetch(e,t),c=a.headers.get(\"www-authenticate\");if(!c)return a;const h=re(c),l=h.token||h.macaroon,u=h.invoice;await o.enable();const f=await o.sendPayment(u);return s.setItem(e,JSON.stringify({token:l,preimage:f.preimage})),t.headers.Authorization=`${n} ${l}:${f.preimage}`,await fetch(e,t)};var se={__proto__:null,fetchWithL402:oe,MemoryStorage:ee,NoStorage:te,parseL402:re};const ie=async e=>{const t=\"https://getalby.com/api/rates/\"+e.toLowerCase()+\".json\",r=await fetch(t);if(!r.ok)throw new Error(`Failed to fetch rate: ${r.status} ${r.statusText}`);return(await r.json()).rate_float/1e8},ae=async({satoshi:e,currency:t})=>{const r=await ie(t);return Number(e)*r},ce=async({amount:e,currency:t})=>{const r=await ie(t);return Math.floor(Number(e)/r)},he=async({satoshi:e,currency:t,locale:r})=>(r||(r=\"en\"),(await ae({satoshi:e,currency:t})).toLocaleString(r,{style:\"currency\",currency:t}));var le={__proto__:null,getFiatBtcRate:ie,getFiatValue:ae,getSatoshiValue:ce,getFormattedFiatValue:he};export{Q as DEFAULT_PROXY,j as Invoice,X as LN_ADDRESS_REGEX,Y as LightningAddress,ee as MemoryStorage,te as NoStorage,E as decodeInvoice,oe as fetchWithL402,le as fiat,v as fromHexString,O as generateZapEvent,F as getEventHash,ie as getFiatBtcRate,ae as getFiatValue,he as getFormattedFiatValue,ce as getSatoshiValue,z as isUrl,M as isValidAmount,se as l402,H as parseKeysendResponse,re as parseL402,G as parseLnUrlPayResponse,V as parseNostrResponse,Z as sendBoostagram,K as serializeEvent,C as validateEvent};\n", "import{Relay as e,nip19 as t,getPublicKey as n,finalizeEvent as i,getEventHash as s,nip04 as o,nip44 as r,generateSecretKey as a}from\"nostr-tools\";import{Invoice as c,LightningAddress as l,fiat as u}from\"@getalby/lightning-tools\";function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,i,s={},o=Object.keys(e);for(i=0;i<o.length;i++)t.indexOf(n=o[i])>=0||(s[n]=e[n]);return s}class p{constructor(){this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(e=>e!==t))}emit(e,t){this.events[e]&&this.events[e].forEach(e=>e(t))}}function y(e){return Object.entries(e).map(([e,t])=>e&&t?`${e}=${t}`:\"\").filter(e=>e).join(\"&\")}function w(e,t){return`Basic ${btoa(`${e}:${t}`)}`}var m={__proto__:null,buildQueryString:y,basicAuthHeader:w};class f extends Error{constructor(e,t,n,i){let s=e.toString();t&&(s+=` ${t}`),s+=\": \",s+=i.message?i.message:JSON.stringify(i),super(s),this.status=void 0,this.statusText=void 0,this.headers=void 0,this.error=void 0,this.status=e,this.statusText=t,this.headers=n,this.error=i}}var g={__proto__:null,OAuthClient:class{},AuthClient:class{},AlbyResponseError:f};const v=[\"auth\",\"endpoint\",\"params\",\"request_body\",\"method\",\"max_retries\",\"base_url\",\"user_agent\",\"headers\"],_=\"https://api.getalby.com\";async function b(e,t,n=0){const i=await fetch(e,t);if(429===i.status&&n>0){const s=Number(i.headers.get(\"x-rate-limit-reset\")),o=Number(i.headers.get(\"x-rate-limit-remaining\")),r=1e3*s-Date.now();let a=1e3;return 0===o&&(a=r),await new Promise(e=>setTimeout(e,a)),b(e,t,n-1)}return i}async function k(e){let{auth:t,endpoint:n,params:i={},request_body:s,method:o,max_retries:r,base_url:a=_,user_agent:c,headers:l}=e,u=d(e,v);const p=new URL(a+n);p.search=y(i);const w=\"POST\"===o&&!!s,m=t?await t.getAuthHeader(p.href,o):void 0,g=await b(p.toString(),h({headers:h({},w?{\"Content-Type\":\"application/json; charset=utf-8\"}:void 0,m,l,{\"User-Agent\":null!=c?c:\"@getalby/sdk\",\"X-User-Agent\":null!=c?c:\"@getalby/sdk\"}),method:o,body:w?JSON.stringify(s):void 0},u),r);if(!g.ok){const e=await g.json();throw new f(g.status,g.statusText,g.headers,e)}return g}async function E(e){return(await k(e)).json()}const P=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,\"0\"),\"\"),T=[\"expires_in\"],N=[\"token\"];function q(e){const{expires_in:t}=e;return h({},d(e,T),!!t&&{expires_at:Date.now()+1e3*t})}class x{constructor(e){this.bearer_token=void 0,this.bearer_token=e}getAuthHeader(){return{Authorization:`Bearer ${this.bearer_token}`}}}var R={__proto__:null,OAuth2User:class{constructor(e){this.token=void 0,this.options=void 0,this.code_verifier=void 0,this.code_challenge=void 0,this._refreshAccessTokenPromise=void 0,this._tokenEvents=void 0,this._tokenEvents=new p;const{token:t}=e,n=d(e,N);this.options=h({client_secret:\"\"},n),this.token=t,this._refreshAccessTokenPromise=null}on(e,t){this._tokenEvents.on(e,t)}async refreshAccessToken(){var e=this;return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=new Promise(async function(t,n){try{var i;const n=null==(i=e.token)?void 0:i.refresh_token,{client_id:s,client_secret:o,request_options:r,user_agent:a}=e.options;if(!s)throw new Error(\"client_id is required\");if(!n)throw new Error(\"refresh_token is required\");const c=q(await E(h({},r,{endpoint:\"/oauth/token\",params:{client_id:s,grant_type:\"refresh_token\",refresh_token:n},user_agent:a,method:\"POST\",headers:h({},null==r?void 0:r.headers,{\"Content-type\":\"application/x-www-form-urlencoded\"},{Authorization:w(s,o)})})));e.token=c,t({token:c}),e._tokenEvents.emit(\"tokenRefreshed\",e.token)}catch(t){console.error(t),n(t),e._tokenEvents.emit(\"tokenRefreshFailed\",t)}finally{e._refreshAccessTokenPromise=null}})),this._refreshAccessTokenPromise}isAccessTokenExpired(){var e,t;const n=null==(e=this.token)?void 0:e.refresh_token,i=null==(t=this.token)?void 0:t.expires_at;return!i||!!n&&i<=Date.now()+1e3}async requestAccessToken(e){const{client_id:t,client_secret:n,callback:i,request_options:s,user_agent:o}=this.options,r=this.code_verifier;if(!t)throw new Error(\"client_id is required\");if(!n&&!r)throw new Error(\"either client_secret is required, or code should be generated using a challenge\");if(!i)throw new Error(\"callback is required\");const a={code:e,grant_type:\"authorization_code\",code_verifier:r,client_id:t,redirect_uri:i},c=q(await E(h({},s,{endpoint:\"/oauth/token\",params:a,user_agent:o,method:\"POST\",headers:h({},null==s?void 0:s.headers,{\"Content-Type\":\"application/x-www-form-urlencoded\"},{Authorization:w(t,n)})})));return this.token=c,{token:c}}async generateAuthURL(e){e||(e={});const{client_id:t,callback:n,scopes:i}=this.options;if(!n)throw new Error(\"callback required\");if(!i)throw new Error(\"scopes required\");let s;\"S256\"===e.code_challenge_method?(await this._generateS256Challenge(),s=\"S256\"):\"plain\"===e.code_challenge_method&&e.code_challenge&&(this.code_challenge=e.code_challenge,this.code_verifier=e.code_challenge,s=\"plain\");const o=this.code_challenge,r=new URL(e.authorizeUrl||\"https://getalby.com/oauth\");return r.search=y(h({},e,{client_id:t,scope:i.join(\" \"),response_type:\"code\",redirect_uri:n,code_challenge_method:s,code_challenge:o})),r.toString()}async getAuthHeader(){var e;if(null==(e=this.token)||!e.access_token)throw new Error(\"access_token is required\");return this.isAccessTokenExpired()&&await this.refreshAccessToken(),{Authorization:`Bearer ${this.token.access_token}`}}async _generateS256Challenge(){const e=crypto.getRandomValues(new Uint8Array(64));this.code_verifier=P(e);const t=await crypto.subtle.digest(\"SHA-256\",(new TextEncoder).encode(this.code_verifier)),n=new Uint8Array(t);this.code_challenge=btoa(String.fromCharCode(...n)).replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=+$/,\"\")}},OAuth2Bearer:x};function S(e){const t={};return e.recipient.customKey&&e.recipient.customValue&&(t[e.recipient.customKey]=e.recipient.customValue),t[7629169]=JSON.stringify(e.boostagram),{destination:e.recipient.address,amount:e.amount,custom_records:t}}class I{constructor(e,t){this.auth=void 0,this.defaultRequestOptions=void 0,this.auth=\"string\"==typeof e?new x(e):e,this.defaultRequestOptions=h({},t,{user_agent:null==t?void 0:t.user_agent})}accountBalance(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/balance\",params:e,method:\"GET\"}))}signMessage(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/signatures\",request_body:e,method:\"POST\"}))}accountSummary(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/user/summary\",params:e,method:\"GET\"}))}accountInformation(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/user/me\",params:e,method:\"GET\"}))}accountValue4Value(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/user/value4value\",params:e,method:\"GET\"}))}incomingInvoices(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/invoices/incoming\",params:e,method:\"GET\"}))}outgoingInvoices(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/invoices/outgoing\",params:e,method:\"GET\"}))}invoices(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/invoices\",params:e,method:\"GET\"}))}getInvoice(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:`/invoices/${e}`,method:\"GET\"}))}decodeInvoice(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:`/decode/bolt11/${e}`,method:\"GET\"}))}createInvoice(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/invoices\",request_body:e,method:\"POST\"}))}keysend(e,t){let n,i;return Array.isArray(e)?(n=\"/payments/keysend/multi\",i={keysends:e.map(e=>h({},e,{custom_records:e.customRecords}))}):(n=\"/payments/keysend\",i=h({},e,{custom_records:e.customRecords})),E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:n,request_body:i,method:\"POST\"}))}sendPayment(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/payments/bolt11\",request_body:e,method:\"POST\"}))}sendBoostagram(e,t){let n,i;return Array.isArray(e)?(n=\"/payments/keysend/multi\",i={keysends:e.map(e=>S(e))}):(n=\"/payments/keysend\",i=S(e)),E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:n,request_body:i,method:\"POST\"}))}sendBoostagramToAlbyAccount(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/payments/keysend\",request_body:{destination:\"030a58b8653d32b99200a2334cfe913e51dc7d155aa0116c176657a4f1722677a3\",custom_records:{696969:e.account},amount:e.amount,memo:e.memo},method:\"POST\"}))}createWebhookEndpoint(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/webhook_endpoints\",request_body:e,method:\"POST\"}))}deleteWebhookEndpoint(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:`/webhook_endpoints/${e}`,method:\"DELETE\"}))}getSwapInfo(e){return E(h({auth:this.auth},this.defaultRequestOptions,e,{endpoint:\"/swaps/info\",method:\"GET\"}))}createSwap(e,t){return E(h({auth:this.auth},this.defaultRequestOptions,t,{endpoint:\"/swaps\",method:\"POST\",request_body:e}))}}var A={__proto__:null,auth:R,types:g,utils:m,Client:I};if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error(\"Non little-endian hardware is not supported\");const U=/* @__PURE__ */Array.from({length:256},(e,t)=>t.toString(16).padStart(2,\"0\"));function O(e){if(!(e instanceof Uint8Array))throw new Error(\"Uint8Array expected\");let t=\"\";for(let n=0;n<e.length;n++)t+=U[e[n]];return t}function C(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);const t=e.length;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const i=2*t,s=e.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error(\"Invalid byte sequence\");n[t]=o}return n}class M extends Error{constructor(e,t){super(e),this.code=void 0,this.code=t}}class W extends M{}class $ extends M{}class F extends M{}class L extends F{}class K extends F{}class j extends M{}class J extends M{}class B extends M{}class H extends M{}class z extends M{}class D{static parseWalletConnectUrl(e){e=e.replace(\"nostrwalletconnect://\",\"http://\").replace(\"nostr+walletconnect://\",\"http://\").replace(\"nostrwalletconnect:\",\"http://\").replace(\"nostr+walletconnect:\",\"http://\");const t=new URL(e),n=t.searchParams.get(\"relay\");if(!n)throw new Error(\"No relay URL found in connection string\");const i={walletPubkey:t.host,relayUrl:n},s=t.searchParams.get(\"secret\");s&&(i.secret=s);const o=t.searchParams.get(\"lud16\");return o&&(i.lud16=o),i}constructor(n){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,n&&n.nostrWalletConnectUrl&&(n=h({},D.parseWalletConnectUrl(n.nostrWalletConnectUrl),n)),this.options=h({},n||{}),this.relayUrl=this.options.relayUrl,this.relay=new e(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith(\"nsec\")?t.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith(\"npub\")?t.decode(this.options.walletPubkey).data:this.options.walletPubkey,void 0===globalThis.WebSocket&&console.error(\"WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments\")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(e=!0){let t=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return e&&(t=`${t}&secret=${this.secret}`),this.lud16&&(t=`${t}&lud16=${this.lud16}`),t}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error(\"Missing secret key\");return n(C(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error(\"Missing encryption or version\");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(e){if(!this.secret)throw new Error(\"Missing secret key\");return Promise.resolve(i(e,C(this.secret)))}getEventHash(e){return s(e)}close(){return this.relay.close()}async encrypt(e,t){if(!this.secret)throw new Error(\"Missing secret\");let n;if(\"nip04\"===this.encryptionType)n=await o.encrypt(this.secret,e,t);else{const i=r.getConversationKey(C(this.secret),e);n=r.encrypt(t,i)}return n}async decrypt(e,t){if(!this.secret)throw new Error(\"Missing secret\");let n;if(\"nip04\"===this.encryptionType)n=await o.decrypt(this.secret,e,t);else{const i=r.getConversationKey(C(this.secret),e);n=r.decrypt(t,i)}return n}static getAuthorizationUrl(e,t={},n){if(e.indexOf(\"/#/\")>-1)throw new Error(\"hash router paths not supported\");const i=new URL(e);return t.name&&i.searchParams.set(\"name\",t.name),i.searchParams.set(\"pubkey\",n),t.returnTo&&i.searchParams.set(\"return_to\",t.returnTo),t.budgetRenewal&&i.searchParams.set(\"budget_renewal\",t.budgetRenewal),t.expiresAt&&i.searchParams.set(\"expires_at\",Math.floor(t.expiresAt.getTime()/1e3).toString()),t.maxAmount&&i.searchParams.set(\"max_amount\",t.maxAmount.toString()),t.requestMethods&&i.searchParams.set(\"request_methods\",t.requestMethods.join(\" \")),t.notificationTypes&&i.searchParams.set(\"notification_types\",t.notificationTypes.join(\" \")),t.isolated&&i.searchParams.set(\"isolated\",\"true\"),t.metadata&&i.searchParams.set(\"metadata\",JSON.stringify(t.metadata)),i}static fromAuthorizationUrl(e,t={},i){i=i||O(a()),t.name||(t.name=document.location.host);const s=this.getAuthorizationUrl(e,t,n(C(i))),o=window.outerHeight/2+window.screenY-300,r=window.outerWidth/2+window.screenX-200;return new Promise((e,t)=>{const n=window.open(s.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${o},left=${r}`);if(!n)return void t(new Error(\"failed to execute window.open\"));const a=o=>{const r=o.data;r&&\"nwc:success\"===r.type&&o.origin===`${s.protocol}//${s.host}`&&(r.relayUrl||t(new Error(\"no relayUrl in response\")),r.walletPubkey||t(new Error(\"no walletPubkey in response\")),e(new D({relayUrl:r.relayUrl,walletPubkey:r.walletPubkey,secret:i,lud16:r.lud16})),clearInterval(c),window.removeEventListener(\"message\",a),n&&n.close())},c=setInterval(()=>{n&&n.closed&&(clearInterval(c),window.removeEventListener(\"message\",a),t(new Error(\"Popup closed\")))},500);window.addEventListener(\"message\",a)})}async getWalletServiceInfo(){var e;await this._checkConnected();const t=await new Promise((e,t)=>{const n=[],i=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});i.onevent=e=>{n.push(e)},i.oneose=()=>{i.close(),e(n)}});if(!t.length)throw new Error(\"no info event (kind 13194) returned from relay\");const n=t[0].content,i=t[0].tags.find(e=>\"notifications\"===e[0]),s=t[0].tags.find(e=>\"v\"===e[0]),o=t[0].tags.find(e=>\"encryption\"===e[0]);let r=[\"nip04\"];return s&&s[1].includes(\"1.0\")&&r.push(\"nip44_v2\"),o&&(r=o[1].split(\" \")),{encryptions:r,capabilities:n.split(/[ |,]/g),notifications:(null==i||null==(e=i[1])?void 0:e.split(\" \"))||[]}}async getInfo(){try{return await this.executeNip47Request(\"get_info\",{},e=>!!e.methods,{replyTimeout:1e4})}catch(e){throw console.error(\"Failed to request get_info\",e),e}}async getBudget(){try{return await this.executeNip47Request(\"get_budget\",{},e=>void 0!==e,{replyTimeout:1e4})}catch(e){throw console.error(\"Failed to request get_budget\",e),e}}async getBalance(){try{return await this.executeNip47Request(\"get_balance\",{},e=>void 0!==e.balance,{replyTimeout:1e4})}catch(e){throw console.error(\"Failed to request get_balance\",e),e}}async payInvoice(e){try{return await this.executeNip47Request(\"pay_invoice\",e,e=>!!e)}catch(e){throw console.error(\"Failed to request pay_invoice\",e),e}}async payKeysend(e){try{return await this.executeNip47Request(\"pay_keysend\",e,e=>!!e.preimage)}catch(e){throw console.error(\"Failed to request pay_keysend\",e),e}}async signMessage(e){try{return await this.executeNip47Request(\"sign_message\",e,t=>t.message===e.message&&!!t.signature)}catch(e){throw console.error(\"Failed to request sign_message\",e),e}}async createConnection(e){try{return await this.executeNip47Request(\"create_connection\",e,e=>!!e.wallet_pubkey)}catch(e){throw console.error(\"Failed to request create_connection\",e),e}}async multiPayInvoice(e){try{return{invoices:await this.executeMultiNip47Request(\"multi_pay_invoice\",e,e.invoices.length,e=>!!e.preimage),errors:[]}}catch(e){throw console.error(\"Failed to request multi_pay_invoice\",e),e}}async multiPayKeysend(e){try{return{keysends:await this.executeMultiNip47Request(\"multi_pay_keysend\",e,e.keysends.length,e=>!!e.preimage),errors:[]}}catch(e){throw console.error(\"Failed to request multi_pay_keysend\",e),e}}async makeInvoice(e){try{if(!e.amount)throw new Error(\"No amount specified\");return await this.executeNip47Request(\"make_invoice\",e,e=>!!e.invoice)}catch(e){throw console.error(\"Failed to request make_invoice\",e),e}}async makeHoldInvoice(e){try{if(!e.amount)throw new Error(\"No amount specified\");if(!e.payment_hash)throw new Error(\"No payment hash specified\");return await this.executeNip47Request(\"make_hold_invoice\",e,e=>!!e.invoice)}catch(e){throw console.error(\"Failed to request make_hold_invoice\",e),e}}async settleHoldInvoice(e){try{return await this.executeNip47Request(\"settle_hold_invoice\",e,e=>!!e)}catch(e){throw console.error(\"Failed to request settle_hold_invoice\",e),e}}async cancelHoldInvoice(e){try{return await this.executeNip47Request(\"cancel_hold_invoice\",e,e=>!!e)}catch(e){throw console.error(\"Failed to request cancel_hold_invoice\",e),e}}async lookupInvoice(e){try{return await this.executeNip47Request(\"lookup_invoice\",e,e=>!!e.invoice)}catch(e){throw console.error(\"Failed to request lookup_invoice\",e),e}}async listTransactions(e){try{return await this.executeNip47Request(\"list_transactions\",e,e=>!!e.transactions,{replyTimeout:1e4})}catch(e){throw console.error(\"Failed to request list_transactions\",e),e}}async subscribeNotifications(e,t){var n=this;let i,s,o,r=!0;return async function(){for(;r;){try{await n._checkConnected(),await n._selectEncryptionType(),o=n.relay.subscribe([{kinds:[...\"nip04\"===n.encryptionType?[23196]:[23197]],authors:[n.walletPubkey],\"#p\":[n.publicKey]}],{}),console.info(\"subscribed to relay\"),o.onevent=async function(i){const s=await n.decrypt(n.walletPubkey,i.content);let o;try{o=JSON.parse(s)}catch(e){return void console.error(\"Failed to parse decrypted event content\",e)}o.notification?(!t||t.indexOf(o.notification_type)>-1)&&e(o):console.error(\"No notification in response\",o)},await new Promise(e=>{i=()=>{e()},s=()=>{console.info(\"relay disconnected\"),null==i||i()},n.relay.onclose=s}),void 0!==s&&(n.relay.onclose=null)}catch(e){console.error(\"error subscribing to notifications\",e||\"unknown relay error\")}r&&await new Promise(e=>setTimeout(e,1e3))}}(),()=>{var e;r=!1,null==i||i(),null==(e=o)||e.close()}}async executeNip47Request(e,t,n,i){var s=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((o,r)=>{!async function(){const a={method:e,params:t},c=await s.encrypt(s.walletPubkey,JSON.stringify(a)),l={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[[\"p\",s.walletPubkey],[\"v\",\"nip44_v2\"===s.encryptionType?\"1.0\":\"0.0\"],[\"encryption\",s.encryptionType]],content:c},u=await s.signEvent(l),h=s.relay.subscribe([{kinds:[23195],authors:[s.walletPubkey],\"#e\":[u.id]}],{}),d=setTimeout(function(){h.close(),r(new K(`reply timeout: event ${u.id}`,\"INTERNAL\"))},(null==i?void 0:i.replyTimeout)||6e4);h.onevent=async function(e){clearTimeout(d),h.close();const t=await s.decrypt(s.walletPubkey,e.content);let i;try{i=JSON.parse(t)}catch(e){return clearTimeout(d),h.close(),void r(new J(\"failed to deserialize response\",\"INTERNAL\"))}var a,c;i.result?n(i.result)?o(i.result):(clearTimeout(d),h.close(),r(new B(\"response from NWC failed validation: \"+JSON.stringify(i.result),\"INTERNAL\"))):(clearTimeout(d),h.close(),r(new $((null==(a=i.error)?void 0:a.message)||\"unknown Error\",(null==(c=i.error)?void 0:c.code)||\"INTERNAL\")))};const p=setTimeout(function(){h.close(),r(new L(`publish timeout: ${u.id}`,\"INTERNAL\"))},(null==i?void 0:i.publishTimeout)||5e3);try{await s.relay.publish(u),clearTimeout(p)}catch(e){clearTimeout(p),r(new j(`failed to publish: ${e}`,\"INTERNAL\"))}}()})}async executeMultiNip47Request(e,t,n,i,s){var o=this;await this._checkConnected(),await this._selectEncryptionType();const r=[];return new Promise((a,c)=>{!async function(){const l={method:e,params:t},u=await o.encrypt(o.walletPubkey,JSON.stringify(l)),d={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[[\"p\",o.walletPubkey],[\"v\",\"nip44_v2\"===o.encryptionType?\"1.0\":\"0.0\"],[\"encryption\",o.encryptionType]],content:u},p=await o.signEvent(d),y=o.relay.subscribe([{kinds:[23195],authors:[o.walletPubkey],\"#e\":[p.id]}],{}),w=setTimeout(function(){y.close(),c(new K(`reply timeout: event ${p.id}`,\"INTERNAL\"))},(null==s?void 0:s.replyTimeout)||6e4);y.onevent=async function(e){const t=await o.decrypt(o.walletPubkey,e.content);let s;try{s=JSON.parse(t)}catch(e){clearTimeout(w),y.close(),c(new J(\"failed to deserialize response\",\"INTERNAL\"))}if(s.result){var l;if(!i(s.result))return clearTimeout(w),y.close(),void c(new B(\"Response from NWC failed validation: \"+JSON.stringify(s.result),\"INTERNAL\"));const t=null==(l=e.tags.find(e=>\"d\"===e[0]))?void 0:l[1];if(void 0===t)return clearTimeout(w),y.close(),void c(new B(\"No d tag found in response event\",\"INTERNAL\"));r.push(h({},s.result,{dTag:t})),r.length===n&&(clearTimeout(w),y.close(),a(r))}else{var u,d;clearTimeout(w),y.close(),c(new H(null==(u=s.error)?void 0:u.message,null==(d=s.error)?void 0:d.code))}};const m=setTimeout(function(){y.close(),c(new L(`Publish timeout: ${p.id}`,\"INTERNAL\"))},(null==s?void 0:s.publishTimeout)||5e3);try{await o.relay.publish(p),clearTimeout(m)}catch(e){clearTimeout(m),c(new j(`Failed to publish: ${e}`,\"INTERNAL\"))}}()})}async _checkConnected(){if(!this.secret)throw new Error(\"Missing secret key\");if(!this.relayUrl)throw new Error(\"Missing relay url\");try{this.relay.connected||await this.relay.connect()}catch(e){throw console.error(\"failed to connect to relay\",this.relayUrl),new W(\"Failed to connect to \"+this.relayUrl,\"OTHER\")}}async _selectEncryptionType(){if(!this._encryptionType){const e=await this.getWalletServiceInfo(),t=this._findPreferredEncryptionType(e.encryptions);if(!t)throw new z(\"no compatible encryption or version found between wallet and client\",\"UNSUPPORTED_ENCRYPTION\");\"nip04\"===t&&console.warn(\"NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead.\"),this._encryptionType=t}}_findPreferredEncryptionType(e){return e.includes(\"nip44_v2\")?\"nip44_v2\":e.includes(\"nip04\")?\"nip04\":null}}const G={get_info:\"getInfo\",get_balance:\"getBalance\",make_invoice:\"makeInvoice\",pay_invoice:\"sendPayment\",pay_keysend:\"payKeysend\",lookup_invoice:\"lookupInvoice\",list_transactions:\"listTransactions\",multi_pay_invoice:\"sendMultiPayment\",multi_pay_keysend:\"multiKeysend\",sign_message:\"signMessage\"};class V{get options(){return this.client.options}static async fromAuthorizationUrl(e,t={},n){const i=await D.fromAuthorizationUrl(e,t,n);return new V({client:i})}constructor(e){this._enabled=!1,this.client=void 0,this.subscribers=void 0,this.client=(null==e?void 0:e.client)||new D(e),this.subscribers={}}on(e,t){this.subscribers[e]=t}notify(e,t){const n=this.subscribers[e];n&&n(t)}getPublicKey(){return this.client.getPublicKey()}signEvent(e){return this.client.signEvent(e)}async enable(){this._enabled=!0}close(){return this.client.close()}async getInfo(){await this.checkEnabled();const e=[\"lightning\",\"nostr\"],t=\"Alby JS SDK\";try{const n=await this.client.getInfo(),i={methods:n.methods.map(e=>G[e]),node:{alias:n.alias,pubkey:n.pubkey,color:n.color},supports:e,version:t};return this.notify(\"getInfo\",i),i}catch(n){return console.error(\"Using minimal getInfo\",n),{methods:[\"sendPayment\"],node:{},supports:e,version:t}}}async getBalance(){await this.checkEnabled();const e=await this.client.getBalance(),t={balance:Math.floor(e.balance/1e3),currency:\"sats\"};return this.notify(\"getBalance\",t),t}async sendPayment(e){await this.checkEnabled();const t={preimage:(await this.client.payInvoice({invoice:e})).preimage};return this.notify(\"sendPayment\",t),t}async sendPaymentAsync(e){return await this.checkEnabled(),this.client.payInvoice({invoice:e}),this.notify(\"sendPaymentAsync\",{}),{}}async keysend(e){await this.checkEnabled();const t={preimage:(await this.client.payKeysend(X(e))).preimage};return this.notify(\"keysend\",t),t}async signMessage(e){await this.checkEnabled();const t=await this.client.signMessage({message:e}),n={message:t.message,signature:t.signature};return this.notify(\"keysend\",n),n}async makeInvoice(e){var t;await this.checkEnabled();const n=\"object\"==typeof e?e:void 0,i=+(null!=(t=null==n?void 0:n.amount)?t:e);if(!i)throw new Error(\"No amount specified\");const s={paymentRequest:(await this.client.makeInvoice({amount:1e3*i,description:null==n?void 0:n.defaultMemo})).invoice};return this.notify(\"makeInvoice\",s),s}async lookupInvoice(e){await this.checkEnabled();const t=await this.client.lookupInvoice({invoice:e.paymentRequest,payment_hash:e.paymentHash}),n={preimage:t.preimage,paymentRequest:t.invoice,paid:!!t.settled_at};return this.notify(\"lookupInvoice\",n),n}async listTransactions(e){await this.checkEnabled();const t={transactions:(await this.client.listTransactions(e)).transactions.map(Y)};return this.notify(\"listTransactions\",t),t}async sendMultiPayment(e){await this.checkEnabled();const t=await this.client.multiPayInvoice({invoices:e.map((e,t)=>({invoice:e,id:t.toString()}))}),n={payments:t.invoices.map(t=>{const n=e[parseInt(t.dTag)];if(!n)throw new Error(\"Could not find paymentRequest matching response d tag\");return{paymentRequest:n,preimage:t.preimage}}),errors:[]};return this.notify(\"sendMultiPayment\",n),n}async multiKeysend(e){await this.checkEnabled();const t=await this.client.multiPayKeysend({keysends:e.map((e,t)=>h({},X(e),{id:t.toString()}))}),n={keysends:t.keysends.map(t=>{const n=e[parseInt(t.dTag)];if(!n)throw new Error(\"Could not find keysend matching response d tag\");return{keysend:n,preimage:t.preimage}}),errors:[]};return this.notify(\"multiKeysend\",n),n}lnurl(e){throw new Error(\"Method not implemented.\")}request(e,t){throw new Error(\"Method not implemented.\")}verifyMessage(e,t){throw new Error(\"Method not implemented.\")}async checkEnabled(){if(!this._enabled)throw new Error(\"please call enable() and await the promise before calling this function\")}}function Y(e){return h({},e,{amount:Math.floor(e.amount/1e3),fees_paid:e.fees_paid?Math.floor(e.fees_paid/1e3):0})}function X(e){return{amount:1e3*+e.amount,pubkey:e.destination,tlv_records:e.customRecords?Object.entries(e.customRecords).map(e=>({type:parseInt(e[0]),value:P((new TextEncoder).encode(e[1]))})):[]}}var Q={__proto__:null,NostrWebLNProvider:V,NWC:V,OauthWeblnProvider:class{constructor(e){this.client=void 0,this.auth=void 0,this.oauth=void 0,this.subscribers=void 0,this.isExecuting=void 0,this.auth=e.auth,this.client=new I(e.auth),this.oauth=!0,this.subscribers={},this.isExecuting=!1}on(e,t){this.subscribers[e]=t}notify(e,t){const n=this.subscribers[e];n&&n(t)}async enable(){var e;if(!this.isExecuting){if(null!=(e=this.auth.token)&&e.access_token)return{enabled:!0};if(\"undefined\"==typeof window||void 0===window.document)throw new Error(\"Missing access token\");try{this.isExecuting=!0,await this.openAuthorization()}finally{this.isExecuting=!1}}}async sendPayment(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.sendPayment({invoice:e});return this.notify(\"sendPayment\",t),{preimage:t.payment_preimage}}catch(e){let t=\"Unknown Error\";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}async keysend(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.keysend(e);return this.notify(\"keysend\",t),{preimage:t.payment_preimage}}catch(e){let t=\"Unknown Error\";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}async getInfo(){return{alias:\"Alby\"}}async makeInvoice(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.createInvoice({amount:parseInt(e.amount.toString()),description:e.defaultMemo});return this.notify(\"makeInvoice\",t),{paymentRequest:t.payment_request}}catch(e){let t=\"Unknown Error\";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}async openAuthorization(){var e=this;const t=window.outerHeight/2+window.screenY-350,n=window.outerWidth/2+window.screenX-300,i=await this.auth.generateAuthURL({code_challenge_method:\"S256\"});return new Promise((s,o)=>{const r=window.open(i,`${document.title} - WebLN enable`,`height=700,width=600,top=${t},left=${n}`);let a=!1;window.addEventListener(\"message\",async function(t){const n=t.data;if(n&&\"alby:oauth:success\"===n.type&&t.origin===`${document.location.protocol}//${document.location.host}`&&!a){a=!0,console.info(\"Processing OAuth code response\");const t=n.payload.code;try{await e.auth.requestAccessToken(t),e.client=new I(e.auth),r&&r.close(),e.notify(\"enable\"),s({enabled:!0})}catch(e){console.error(e),o({enabled:!1})}}})})}}},Z={__proto__:null,Nip47Error:M,Nip47NetworkError:W,Nip47WalletError:$,Nip47TimeoutError:F,Nip47PublishTimeoutError:L,Nip47ReplyTimeoutError:K,Nip47PublishError:j,Nip47ResponseDecodingError:J,Nip47ResponseValidationError:B,Nip47UnexpectedResponseError:H,Nip47UnsupportedEncryptionError:z,NWCClient:D,NWAClient:class{constructor(t){if(this.options=void 0,this.appSecretKey=void 0,this.relay=void 0,this.appSecretKey=t.appSecretKey||O(a()),this.options=h({},t,{appPubkey:n(C(this.appSecretKey))}),!this.options.relayUrl)throw new Error(\"Missing relay url\");if(!this.options.requestMethods)throw new Error(\"Missing request methods\");this.relay=new e(this.options.relayUrl),void 0===globalThis.WebSocket&&console.error(\"WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments\")}get connectionUri(){return this.getConnectionUri()}getConnectionUri(e=\"\"){const t=new URLSearchParams(h({relay:this.options.relayUrl,request_methods:this.options.requestMethods.join(\" \")},this.options.name?{name:this.options.name}:{},this.options.icon?{icon:this.options.icon}:{},this.options.returnTo?{return_to:this.options.returnTo}:{},this.options.notificationTypes?{notification_types:this.options.notificationTypes.join(\" \")}:{},this.options.maxAmount?{max_amount:this.options.maxAmount.toString()}:{},this.options.budgetRenewal?{budget_renewal:this.options.budgetRenewal}:{},this.options.expiresAt?{expires_at:this.options.expiresAt.toString()}:{},this.options.isolated?{isolated:this.options.isolated.toString()}:{},this.options.metadata?{metadata:JSON.stringify(this.options.metadata)}:{}));return`nostr+walletauth${e?`+${e}`:\"\"}://${this.options.appPubkey}?${t.toString().replace(/\\+/g,\"%20\")}`}static parseWalletAuthUrl(e){var t,n;if(!e.startsWith(\"nostr+walletauth\"))throw new Error(\"Unexpected scheme. Should be nostr+walletauth:// or nostr+walletauth+specificapp://\");const i=e.indexOf(\":\");(e=e.substring(i+1)).startsWith(\"//\")&&(e=e.substring(2)),e=\"http://\"+e;const s=new URL(e),o=s.host;if(64!==(null==o?void 0:o.length))throw new Error(\"Incorrect app pubkey found in auth string\");const r=s.searchParams.get(\"relay\");if(!r)throw new Error(\"No relay URL found in auth string\");const a=null==(t=s.searchParams.get(\"request_methods\"))?void 0:t.split(\" \");if(null==a||!a.length)throw new Error(\"No request methods found in auth string\");const c=null==(n=s.searchParams.get(\"notification_types\"))?void 0:n.split(\" \"),l=s.searchParams.get(\"max_amount\"),u=s.searchParams.get(\"expires_at\"),h=s.searchParams.get(\"metadata\");return{name:s.searchParams.get(\"name\")||void 0,icon:s.searchParams.get(\"icon\")||void 0,returnTo:s.searchParams.get(\"return_to\")||void 0,relayUrl:r,appPubkey:o,requestMethods:a,notificationTypes:c,budgetRenewal:s.searchParams.get(\"budget_renewal\"),expiresAt:u?parseInt(u):void 0,maxAmount:l?parseInt(l):void 0,isolated:\"true\"===s.searchParams.get(\"isolated\"),metadata:h?JSON.parse(h):void 0}}async subscribe(e){var t=this;let n,i,s=!0;return async function(){for(;s;){try{await t._checkConnected();const s=t.relay.subscribe([{kinds:[13194],\"#p\":[t.options.appPubkey]}],{});console.info(\"subscribed to relay\");const o=()=>{s.close(),t.relay.close()};s.onevent=async function(n){const i=new D({relayUrl:t.options.relayUrl,secret:t.appSecretKey,walletPubkey:n.pubkey});try{const e=await i.getInfo();i.options.lud16=e.lud16,i.lud16=e.lud16}catch(e){console.error(\"failed to fetch get_info\",e)}e.onSuccess(i),o()},await new Promise(e=>{n=()=>{e()},i=()=>{console.info(\"relay disconnected\"),null==n||n()},t.relay.onclose=i}),void 0!==i&&(t.relay.onclose=null)}catch(e){console.error(\"error subscribing to info event\",e||\"unknown relay error\")}s&&await new Promise(e=>setTimeout(e,1e3))}}(),{unsub:()=>{s=!1,null==n||n()}}}async _checkConnected(){if(!this.appSecretKey)throw new Error(\"Missing secret key\");if(!this.options.relayUrl)throw new Error(\"Missing relay url\");try{this.relay.connected||await this.relay.connect()}catch(e){throw console.error(\"failed to connect to relay\",this.options.relayUrl),new W(\"Failed to connect to \"+this.options.relayUrl,\"OTHER\")}}},NWCWalletServiceKeyPair:class{constructor(e,t){if(this.walletSecret=void 0,this.walletPubkey=void 0,this.clientPubkey=void 0,this.walletSecret=e,this.clientPubkey=t,!this.walletSecret)throw new Error(\"Missing wallet secret key\");if(!this.clientPubkey)throw new Error(\"Missing client pubkey\");this.walletPubkey=n(C(this.walletSecret))}},NWCWalletService:class{constructor(t){this.relay=void 0,this.relayUrl=void 0,this.relayUrl=t.relayUrl,this.relay=new e(this.relayUrl),void 0===globalThis.WebSocket&&console.error(\"WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments\")}async publishWalletServiceInfoEvent(e,t,n){try{await this._checkConnected();const i={kind:13194,created_at:Math.floor(Date.now()/1e3),tags:[[\"encryption\",\"nip04 nip44_v2\"],[\"notifications\",n.join(\" \")]],content:t.join(\" \")},s=await this.signEvent(i,e);await this.relay.publish(s)}catch(e){throw console.error(\"failed to publish wallet service info event\",e),e}}async subscribe(e,t){var n=this;let i,s,o,r=!0;return async function(){for(;r;){try{console.info(\"checking connection to relay\"),await n._checkConnected(),console.info(\"subscribing to relay\"),o=n.relay.subscribe([{kinds:[23194],authors:[e.clientPubkey],\"#p\":[e.walletPubkey]}],{}),console.info(\"subscribed to relay\"),o.onevent=async function(i){try{var s;const o=(null==(s=i.tags.find(e=>\"encryption\"===e[0]))?void 0:s[1])||\"nip04\",r=await n.decrypt(e,i.content,o),a=JSON.parse(r);let c;switch(a.method){case\"get_info\":c=null==t.getInfo?void 0:t.getInfo();break;case\"make_invoice\":c=null==t.makeInvoice?void 0:t.makeInvoice(a.params);break;case\"pay_invoice\":c=null==t.payInvoice?void 0:t.payInvoice(a.params);break;case\"pay_keysend\":c=null==t.payKeysend?void 0:t.payKeysend(a.params);break;case\"get_balance\":c=null==t.getBalance?void 0:t.getBalance();break;case\"lookup_invoice\":c=null==t.lookupInvoice?void 0:t.lookupInvoice(a.params);break;case\"list_transactions\":c=null==t.listTransactions?void 0:t.listTransactions(a.params);break;case\"sign_message\":c=null==t.signMessage?void 0:t.signMessage(a.params)}let l=await c;l||(console.warn(\"received unsupported method\",a.method),l={error:{code:\"NOT_IMPLEMENTED\",message:\"This method is not supported by the wallet service\"},result:void 0});const u={kind:23195,created_at:Math.floor(Date.now()/1e3),tags:[[\"e\",i.id]],content:await n.encrypt(e,JSON.stringify(h({result_type:a.method},l)),o)},d=await n.signEvent(u,e.walletSecret);await n.relay.publish(d)}catch(e){return void console.error(\"Failed to parse decrypted event content\",e)}},await new Promise(e=>{i=()=>{e()},s=()=>{console.error(\"relay disconnected\"),null==i||i()},n.relay.onclose=s}),void 0!==s&&(n.relay.onclose=null)}catch(e){console.error(\"error subscribing to requests\",e||\"unknown relay error\")}r&&await new Promise(e=>setTimeout(e,1e3))}}(),()=>{var e;r=!1,null==i||i(),null==(e=o)||e.close()}}get connected(){return this.relay.connected}signEvent(e,t){return Promise.resolve(i(e,C(t)))}close(){return this.relay.close()}async encrypt(e,t,n){let i;if(\"nip04\"===n)i=await o.encrypt(e.walletSecret,e.clientPubkey,t);else{const n=r.getConversationKey(C(e.walletSecret),e.clientPubkey);i=r.encrypt(t,n)}return i}async decrypt(e,t,n){let i;if(\"nip04\"===n)i=await o.decrypt(e.walletSecret,e.clientPubkey,t);else{const n=r.getConversationKey(C(e.walletSecret),e.clientPubkey);i=r.decrypt(t,n)}return i}async _checkConnected(){if(!this.relayUrl)throw new Error(\"Missing relay url\");try{this.relay.connected||await this.relay.connect()}catch(e){throw console.error(\"failed to connect to relay\",this.relayUrl),new W(\"Failed to connect to \"+this.relayUrl,\"OTHER\")}}}};class ee{constructor(e,t){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=t,this.invoice=new c({pr:t.invoice}),this._nwcClient=e}onPaid(e){var t=this;return async function(){let n;try{var i;n=null==(i=(await t._nwcClient.getInfo()).notifications)?void 0:i.includes(\"payment_received\")}catch(e){console.error(\"failed to fetch info, falling back to polling\")}const s=n=>{null==t._unsubscribeFunc||t._unsubscribeFunc(),e(n)},o=e=>()=>{t._timeoutFunc=void 0,clearTimeout(t._timeoutId),e()};if(n){const e=e=>{e.notification.payment_hash===t.transaction.payment_hash&&s(e.notification)};t._unsubscribeFunc=o(await t._nwcClient.subscribeNotifications(e,[\"payment_received\"]))}else console.warn(\"current connection does not support notifications, falling back to polling\"),t._unsubscribeFunc=o(t._onPaidPollingFallback(s))}(),this}onTimeout(e,t){return this._timeoutFunc=()=>{var e;null==(e=this._unsubscribeFunc)||e.call(this),t()},this._timeoutId=setTimeout(()=>{var e;null==(e=this._timeoutFunc)||e.call(this)},1e3*e),this}unsubscribe(){var e;null==(e=this._unsubscribeFunc)||e.call(this)}_onPaidPollingFallback(e){var t=this;let n=!0;return async function(){for(;n;){const i=await t._nwcClient.lookupInvoice({payment_hash:t.transaction.payment_hash});if(i.settled_at&&i.preimage){e(i),n=!1;break}await new Promise(e=>setTimeout(e,3e3))}}(),()=>{n=!1}}}const te=e=>({satoshi:e});async function ne(e){if(\"number\"==typeof e)return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class ie{constructor(e){this.nwcClient=void 0,this.nwcClient=\"string\"==typeof e?new D({nostrWalletConnectUrl:e}):e instanceof D?e:new D(e)}async pay(e,t,n){let i=e;const s=t?await ne(t):void 0;if(i.indexOf(\"@\")>-1){var o,r;if(!s)throw new Error(\"Amount must be provided when paying to a lightning address\");const t=new l(e);await t.fetch(),i=(await t.requestInvoice({satoshi:s.satoshi,comment:null==n||null==(o=n.metadata)?void 0:o.comment,payerdata:null==n||null==(r=n.metadata)?void 0:r.payer_data})).paymentRequest}const a=await this.nwcClient.payInvoice(h({},n||{},{invoice:i,amount:null==s?void 0:s.millisat}));return h({},a,{invoice:new c({pr:i})})}async requestPayment(e,t){const n=await ne(e),i=await this.nwcClient.makeInvoice(h({},t||{},{amount:n.millisat}));return new ee(this.nwcClient,i)}close(){this.nwcClient.close()}}class se{constructor(e,t){this.satoshi=void 0,this.satoshi=u.getSatoshiValue({amount:e,currency:t})}}const oe=e=>new se(e,\"USD\"),re=e=>new se(e,\"EUR\"),ae=e=>new se(e,\"JPY\"),ce=e=>new se(e,\"GBP\"),le=e=>new se(e,\"CHF\");export{le as CHF,re as EUR,se as FiatAmount,ce as GBP,ae as JPY,ie as LN,ie as LNClient,ee as ReceiveInvoice,te as SATS,oe as USD,Z as nwc,A as oauth,ne as resolveAmount,Q as webln};\n"],
  "mappings": "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",
  "names": ["i2", "j", "p", "e", "b", "t", "f", "v", "i2", "s", "_", "d", "t", "l", "v", "_", "i2", "p", "e", "a", "b", "t", "x", "u", "m", "d", "v", "e", "t", "r", "n", "o", "s", "i", "a", "c", "h", "l", "u", "f", "d", "p", "w", "y", "m", "g", "b", "v", "E", "x", "A", "k", "$", "_", "U", "L", "D", "N", "I", "S", "R", "P", "e", "t", "r", "n", "o", "s", "i", "a", "c", "h", "l", "u", "e", "t", "r", "h", "e", "t", "n", "i", "d", "s", "o", "p", "y", "w", "m", "f", "g", "v", "_", "b", "r", "a", "k", "c", "l", "u", "E", "P", "T", "N", "q", "x", "R", "S", "I", "A", "U", "O", "C", "M", "W", "$", "F", "L", "K", "j", "J", "B", "H", "z", "D", "G", "V", "X", "Y", "Z", "ee", "ne", "ie", "ae", "ce", "le"]
}
